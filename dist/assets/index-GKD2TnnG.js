import{T as q,r as C,u as I,j as e,I as Q,B as x,C as R}from"./index-ux5oNEAr.js";import{B as S,A as M,a as A,b as E,u as z}from"./avatar-CIvInjWZ.js";import{C as p,a as f,c as N,e as w,b as F,d as $}from"./card-CNPuq_RZ.js";import{S as a}from"./skeleton-CiEp67PX.js";import{f as o,e as V}from"./format-B1MVvHtq.js";import{B as K}from"./blob-bg-CxzXjtuo.js";import{S as H,F as O}from"./search-CRL-JZJS.js";import{C as B}from"./calendar-B2r9t42S.js";import{V as Y}from"./video-CRJ-qLUB.js";import{M as G}from"./map-pin-B1W8tj8F.js";import{C as J}from"./clock-BSMIzl9a.js";import{U as W}from"./users-BG2cZW_u.js";import{C as X}from"./chevron-right-DR1MoxEK.js";import{E as Z}from"./external-link-D7PkYr8u.js";import"./index-D92uPXsy.js";class ee extends q{constructor(){super("baseService")}getNews(c){return this.get("/events/news/",c)}getNewsDetail(c){return this.get(`/events/tech-news/${c}/`)}}const se=new ee,ae=n=>z({queryKey:["events",n],queryFn:async()=>await V.getEvents({page:n.page,size:6,search:n.search,category:n.category})}),re=()=>z({queryKey:["tech-news"],queryFn:async()=>(await se.getNews({page:1,size:10})).results}),Ne=()=>{const[n,c]=C.useState(""),[D,k]=C.useState(""),[m,h]=C.useState(1),_=I(),{data:i,isLoading:b}=ae({page:m,search:n,category:D}),{data:v,isLoading:L}=re(),T=s=>{s.preventDefault(),m!==1&&h(1)},P=s=>{switch(s){case"upcoming":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"ongoing":return"bg-green-100 text-green-800 hover:bg-green-200";case"completed":return"bg-gray-100 text-gray-800 hover:bg-gray-200";case"canceled":return"bg-red-100 text-red-800 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},U=(s,r)=>{const t=new Date(s),l=new Date(r);return t.toDateString()===l.toDateString()?{date:o(t,"MMM d, yyyy"),time:`${o(t,"h:mm a")} - ${o(l,"h:mm a")}`}:{date:`${o(t,"MMM d")} - ${o(l,"MMM d, yyyy")}`,time:`${o(t,"h:mm a")} - ${o(l,"h:mm a")}`}},y=i?Math.ceil(i.count/6):1,g=(i==null?void 0:i.results)||[];return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8 mt-5",children:[e.jsx(K,{}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Youth in Tech Events"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover upcoming tech events, workshops, and networking opportunities"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[e.jsx("form",{onSubmit:T,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(Q,{placeholder:"Search events...",className:"pl-10",value:n,onChange:s=>c(s.target.value)})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsx(x,{variant:"outline",size:"icon",onClick:()=>{c(""),k(""),h(1)},children:e.jsx(O,{className:"h-4 w-4"})})})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Upcoming Events"}),e.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.count)??0," events found"]})]}),b?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,r)=>e.jsxs(p,{className:"overflow-hidden",children:[e.jsx(a,{className:"h-48 w-full"}),e.jsxs(f,{children:[e.jsx(a,{className:"h-6 w-3/4 mb-2"}),e.jsx(a,{className:"h-4 w-1/2"})]}),e.jsxs(N,{children:[e.jsx(a,{className:"h-4 w-full mb-2"}),e.jsx(a,{className:"h-4 w-3/4"})]}),e.jsx(w,{children:e.jsx(a,{className:"h-10 w-full"})})]},r))}):g.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g==null?void 0:g.map(s=>{var l,u,j;const{date:r,time:t}=U(s.start_time,s.end_time);return e.jsxs(p,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 w-full",children:[s.featured_image?e.jsx("img",{src:s.featured_image,alt:s.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-muted flex items-center justify-center",children:e.jsx(B,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx(S,{className:`absolute top-4 right-4 ${P(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(F,{className:"line-clamp-1",children:s.title}),e.jsx($,{className:"flex items-center mt-1",children:s.is_online?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4 mr-1"})," Online Event"]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-1"})," ",s.location||"TBA"]})})]}),e.jsxs(M,{className:"h-8 w-8",children:[e.jsx(A,{src:s.organizer.profile_picture}),e.jsx(E,{children:(j=(u=(l=s.organizer)==null?void 0:l.full_name)==null?void 0:u.split(" "))==null?void 0:j.map(d=>d[0]).join("")})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[s.participant_count," / ",s.max_participants||"Unlimited"]})]})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.categories.slice(0,3).map(d=>e.jsx(S,{variant:"outline",className:"text-xs",children:d.name},d.id))})]}),e.jsx(w,{className:"pt-0",children:e.jsx(x,{className:"w-full",onClick:()=>_(`/events/${s.id}`),children:"View Details"})})]},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No events found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),e.jsx(x,{variant:"outline",onClick:()=>{c(""),k(""),h(1)},children:"Clear filters"})]}),y>1&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"outline",size:"icon",disabled:m===1||b,onClick:()=>h(m-1),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center text-sm",children:["Page ",e.jsx("span",{className:"font-bold mx-1",children:m})," of"," ",e.jsx("span",{className:"font-bold mx-1",children:y})]}),e.jsx(x,{variant:"outline",size:"icon",disabled:m===y||b,onClick:()=>h(m+1),children:e.jsx(X,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Latest Tech News"}),L?e.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4",children:[...Array(3)].map((s,r)=>e.jsxs(p,{className:"w-80 shrink-0",children:[e.jsx(a,{className:"h-48 w-full"}),e.jsxs(f,{children:[e.jsx(a,{className:"h-6 w-3/4 mb-2"}),e.jsx(a,{className:"h-4 w-1/2"})]}),e.jsxs(N,{children:[e.jsx(a,{className:"h-4 w-full mb-2"}),e.jsx(a,{className:"h-4 w-3/4"})]}),e.jsx(w,{children:e.jsx(a,{className:"h-10 w-full"})})]},r))}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"overflow-x-auto pb-4",children:e.jsx("div",{className:"flex gap-6 min-w-max",children:v==null?void 0:v.map(s=>{var r,t,l,u,j;return e.jsxs(p,{className:"w-80 shrink-0",children:[e.jsxs(f,{className:"pb-3",children:[s.is_featured&&e.jsx(S,{className:"bg-primary/20 text-primary hover:bg-primary/30 mb-2 self-start",children:"Featured"}),e.jsx(F,{className:"line-clamp-2",children:s.title}),e.jsxs($,{className:"flex items-center text-xs",children:[e.jsxs(M,{className:"h-6 w-6 mr-2",children:[e.jsx(A,{src:(r=s.author)==null?void 0:r.profile_picture}),e.jsx(E,{children:s.author?(u=(l=(t=s==null?void 0:s.author)==null?void 0:t.full_name)==null?void 0:l.split(" "))==null?void 0:u.map(d=>d[0]).join(""):"AN"})]}),e.jsx("span",{className:"font-medium",children:((j=s.author)==null?void 0:j.full_name)||"Anonymous"}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsx("span",{children:o(new Date(s.published_at),"MMM d, yyyy")})]})]}),e.jsx(N,{className:"pb-3",children:e.jsx("p",{className:"text-sm line-clamp-3",children:s.content.replace(/<[^>]*>?/gm,"")})}),e.jsx(w,{children:e.jsxs(x,{variant:"outline",size:"sm",className:"w-full",onClick:()=>_(`/news/${s.id}`),children:["Read More",s.news_type==="external"&&e.jsx(Z,{className:"ml-2 h-3 w-3"})]})})]},s.id)})})}),e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-background to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-background to-transparent pointer-events-none"})]})]})]})};export{Ne as default,ae as useEvents,re as useTechNews};

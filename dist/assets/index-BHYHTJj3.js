import{c as le,j as e,M as Oe,e as se,C as Fs,f as Os,g as nt,R as he,h as G,i as Re,r as l,k as ot,l as Ls,m as V,n as je,o as ee,p as Ds,q as $s,s as lt,t as Bs,v as zs,w as Hs,x as Us,B as E,D as Vs,y as Ws,z as Ks,A as qs,I as xe,X as _e,E as Gs,F as Ue,u as it,a as ct,b as dt,G as At,S as Ae,L as Ye,H as Qs,J as Ys,U as Xs}from"./index-XddlkiPy.js";import{B as Zs}from"./blob-bg-JYPJdpll.js";import{A as fe,a as Ne,b as pe}from"./avatar-15CIWND8.js";import{u as ne,B as q}from"./badge-A3J6BesA.js";import{T as Le,a as De,b as ae,c as jt}from"./tabs-B-ZW3Ya_.js";import{P as Mt,p as Nt}from"./polls.services-wRMdh6Sy.js";import{C as Ft}from"./chevron-right-D0_yRiEx.js";import{f as Me}from"./forums.services-DO_1rqyO.js";import{T as Js}from"./textarea-XLJ2C__l.js";import{L as ke}from"./label-CnI8UBIO.js";import{u as er}from"./index-ji5gOziK.js";import{u as tr,a as sr,o as rr,s as ar,f as nr,b as or,c as lr,h as ir,l as cr,d as dr,V as mr}from"./index-_vD4uU5b.js";import{C as Ot}from"./chevron-down-gCCBar_D.js";import{C as ur}from"./check-Baapy21r.js";import{C as hr,b as Xe}from"./blogs.service-CqU0qno4.js";import{a as xr}from"./account.service-DxK2iDcM.js";import{M as fr,B as Ze}from"./index-Dpuw5jZU.js";import{S as Ee,F as Lt}from"./search-BG9rNS3t.js";import{C as mt}from"./clock-CEkUJAeb.js";import{C as pr}from"./circle-alert-B4BXxU7B.js";import{C as Dt,a as $t,c as Bt,e as zt}from"./card-LtRL6Rx3.js";import{p as wt}from"./projects.service-CLsu5GuK.js";import{E as gr}from"./external-link-BrUPR69P.js";import"./index-DjG5M9zQ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],yt=le("chart-no-axes-column",vr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ht=le("chart-pie",br);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$e=le("file-text",jr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wr=le("image",Nr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cr=le("refresh-cw",yr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kr=le("star",Sr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ut=le("tag",Pr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ut=le("trending-up",Er);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Tr=le("upload",_r);function Ir({activeTab:t,onTabChange:s}){return e.jsx("div",{className:"border-b border-border bg-background/95 backdrop-blur sticky top-16 z-30",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(Le,{defaultValue:t,onValueChange:s,className:"w-full",children:e.jsxs(De,{className:"h-14 w-full justify-start bg-transparent gap-1 sm:gap-2",children:[e.jsxs(ae,{value:"forums",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(Oe,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Forums"]}),e.jsxs(ae,{value:"blogs",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx($e,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Blogs"]}),e.jsxs(ae,{value:"polls",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(yt,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Polls"]}),e.jsxs(ae,{value:"projects",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(yt,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Projects"]})]})})})})}function Rr({searchQuery:t,setSearchQuery:s}){return e.jsx("div",{className:"bg-background/80 backdrop-blur-sm py-6 sticky top-0 z-40 border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3"}),e.jsx("div",{className:"flex items-center gap-3"})]})})})}function ht({className:t,...s}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:se("mx-auto flex w-full justify-center",t),...s})}function xt({className:t,...s}){return e.jsx("ul",{"data-slot":"pagination-content",className:se("flex flex-row items-center gap-1",t),...s})}function oe({...t}){return e.jsx("li",{"data-slot":"pagination-item",...t})}function Vt({className:t,isActive:s,size:r="icon",...n}){return e.jsx("a",{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:se(Os({variant:s?"outline":"ghost",size:r}),t),...n})}function ft({className:t,...s}){return e.jsxs(Vt,{"aria-label":"Go to previous page",size:"default",className:se("gap-1 px-2.5 sm:pl-2.5",t),...s,children:[e.jsx(Fs,{}),e.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function pt({className:t,...s}){return e.jsxs(Vt,{"aria-label":"Go to next page",size:"default",className:se("gap-1 px-2.5 sm:pr-2.5",t),...s,children:[e.jsx("span",{className:"hidden sm:block",children:"Next"}),e.jsx(Ft,{})]})}function Ct(t,[s,r]){return Math.min(r,Math.max(s,t))}function Ar(t){const s=t+"CollectionProvider",[r,n]=nt(s),[o,d]=r(s,{collectionRef:{current:null},itemMap:new Map}),c=i=>{const{scope:p,children:x}=i,h=he.useRef(null),v=he.useRef(new Map).current;return e.jsx(o,{scope:p,itemMap:v,collectionRef:h,children:x})};c.displayName=s;const a=t+"CollectionSlot",m=Re(a),u=he.forwardRef((i,p)=>{const{scope:x,children:h}=i,v=d(a,x),y=G(p,v.collectionRef);return e.jsx(m,{ref:y,children:h})});u.displayName=a;const f=t+"CollectionItemSlot",j="data-radix-collection-item",C=Re(f),b=he.forwardRef((i,p)=>{const{scope:x,children:h,...v}=i,y=he.useRef(null),_=G(p,y),F=d(f,x);return he.useEffect(()=>(F.itemMap.set(y,{ref:y,...v}),()=>void F.itemMap.delete(y))),e.jsx(C,{[j]:"",ref:_,children:h})});b.displayName=f;function N(i){const p=d(t+"CollectionConsumer",i);return he.useCallback(()=>{const h=p.collectionRef.current;if(!h)return[];const v=Array.from(h.querySelectorAll(`[${j}]`));return Array.from(p.itemMap.values()).sort((F,k)=>v.indexOf(F.ref.current)-v.indexOf(k.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:c,Slot:u,ItemSlot:b},N,n]}var Mr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=Mr.reduce((t,s)=>{const r=Re(`Primitive.${s}`),n=l.forwardRef((o,d)=>{const{asChild:c,...a}=o,m=c?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...a,ref:d})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Fr(t,s){t&&ot.flushSync(()=>t.dispatchEvent(s))}var Or="DismissableLayer",Je="dismissableLayer.update",Lr="dismissableLayer.pointerDownOutside",Dr="dismissableLayer.focusOutside",St,Wt=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kt=l.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:c,onDismiss:a,...m}=t,u=l.useContext(Wt),[f,j]=l.useState(null),C=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=l.useState({}),N=G(s,k=>j(k)),i=Array.from(u.layers),[p]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=i.indexOf(p),h=f?i.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,y=h>=x,_=zr(k=>{const S=k.target,T=[...u.branches].some($=>$.contains(S));!y||T||(o==null||o(k),c==null||c(k),k.defaultPrevented||a==null||a())},C),F=Hr(k=>{const S=k.target;[...u.branches].some($=>$.contains(S))||(d==null||d(k),c==null||c(k),k.defaultPrevented||a==null||a())},C);return Ls(k=>{h===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},C),l.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(St=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),kt(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=St)}},[f,C,r,u]),l.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),kt())},[f,u]),l.useEffect(()=>{const k=()=>b({});return document.addEventListener(Je,k),()=>document.removeEventListener(Je,k)},[]),e.jsx(W.div,{...m,ref:N,style:{pointerEvents:v?y?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,F.onFocusCapture),onBlurCapture:V(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,_.onPointerDownCapture)})});Kt.displayName=Or;var $r="DismissableLayerBranch",Br=l.forwardRef((t,s)=>{const r=l.useContext(Wt),n=l.useRef(null),o=G(s,n);return l.useEffect(()=>{const d=n.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),e.jsx(W.div,{...t,ref:o})});Br.displayName=$r;function zr(t,s=globalThis==null?void 0:globalThis.document){const r=je(t),n=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const d=a=>{if(a.target&&!n.current){let m=function(){qt(Lr,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=m,s.addEventListener("click",o.current,{once:!0})):m()}else s.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",d),s.removeEventListener("click",o.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function Hr(t,s=globalThis==null?void 0:globalThis.document){const r=je(t),n=l.useRef(!1);return l.useEffect(()=>{const o=d=>{d.target&&!n.current&&qt(Dr,r,{originalEvent:d},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kt(){const t=new CustomEvent(Je);document.dispatchEvent(t)}function qt(t,s,r,{discrete:n}){const o=r.originalEvent.target,d=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&o.addEventListener(t,s,{once:!0}),n?Fr(o,d):o.dispatchEvent(d)}var Ve="focusScope.autoFocusOnMount",We="focusScope.autoFocusOnUnmount",Pt={bubbles:!1,cancelable:!0},Ur="FocusScope",Gt=l.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:d,...c}=t,[a,m]=l.useState(null),u=je(o),f=je(d),j=l.useRef(null),C=G(s,i=>m(i)),b=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let i=function(v){if(b.paused||!a)return;const y=v.target;a.contains(y)?j.current=y:ce(j.current,{select:!0})},p=function(v){if(b.paused||!a)return;const y=v.relatedTarget;y!==null&&(a.contains(y)||ce(j.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const _ of v)_.removedNodes.length>0&&ce(a)};document.addEventListener("focusin",i),document.addEventListener("focusout",p);const h=new MutationObserver(x);return a&&h.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",p),h.disconnect()}}},[n,a,b.paused]),l.useEffect(()=>{if(a){_t.add(b);const i=document.activeElement;if(!a.contains(i)){const x=new CustomEvent(Ve,Pt);a.addEventListener(Ve,u),a.dispatchEvent(x),x.defaultPrevented||(Vr(Qr(Qt(a)),{select:!0}),document.activeElement===i&&ce(a))}return()=>{a.removeEventListener(Ve,u),setTimeout(()=>{const x=new CustomEvent(We,Pt);a.addEventListener(We,f),a.dispatchEvent(x),x.defaultPrevented||ce(i??document.body,{select:!0}),a.removeEventListener(We,f),_t.remove(b)},0)}}},[a,u,f,b]);const N=l.useCallback(i=>{if(!r&&!n||b.paused)return;const p=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,x=document.activeElement;if(p&&x){const h=i.currentTarget,[v,y]=Wr(h);v&&y?!i.shiftKey&&x===y?(i.preventDefault(),r&&ce(v,{select:!0})):i.shiftKey&&x===v&&(i.preventDefault(),r&&ce(y,{select:!0})):x===h&&i.preventDefault()}},[r,n,b.paused]);return e.jsx(W.div,{tabIndex:-1,...c,ref:C,onKeyDown:N})});Gt.displayName=Ur;function Vr(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(ce(n,{select:s}),document.activeElement!==r)return}function Wr(t){const s=Qt(t),r=Et(s,t),n=Et(s.reverse(),t);return[r,n]}function Qt(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Et(t,s){for(const r of t)if(!Kr(r,{upTo:s}))return r}function Kr(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qr(t){return t instanceof HTMLInputElement&&"select"in t}function ce(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&qr(t)&&s&&t.select()}}var _t=Gr();function Gr(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Tt(t,s),t.unshift(s)},remove(s){var r;t=Tt(t,s),(r=t[0])==null||r.resume()}}}function Tt(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function Qr(t){return t.filter(s=>s.tagName!=="A")}var Yr="Arrow",Yt=l.forwardRef((t,s)=>{const{children:r,width:n=10,height:o=5,...d}=t;return e.jsx(W.svg,{...d,ref:s,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yt.displayName=Yr;var Xr=Yt,gt="Popper",[Xt,Zt]=nt(gt),[Zr,Jt]=Xt(gt),es=t=>{const{__scopePopper:s,children:r}=t,[n,o]=l.useState(null);return e.jsx(Zr,{scope:s,anchor:n,onAnchorChange:o,children:r})};es.displayName=gt;var ts="PopperAnchor",ss=l.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...o}=t,d=Jt(ts,r),c=l.useRef(null),a=G(s,c);return l.useEffect(()=>{d.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:e.jsx(W.div,{...o,ref:a})});ss.displayName=ts;var vt="PopperContent",[Jr,ea]=Xt(vt),rs=l.forwardRef((t,s)=>{var P,L,Q,O,A,M;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:d="center",alignOffset:c=0,arrowPadding:a=0,avoidCollisions:m=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:j="partial",hideWhenDetached:C=!1,updatePositionStrategy:b="optimized",onPlaced:N,...i}=t,p=Jt(vt,r),[x,h]=l.useState(null),v=G(s,X=>h(X)),[y,_]=l.useState(null),F=tr(y),k=(F==null?void 0:F.width)??0,S=(F==null?void 0:F.height)??0,T=n+(d!=="center"?"-"+d:""),$=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],z=D.length>0,H={padding:$,boundary:D.filter(sa),altBoundary:z},{refs:B,floatingStyles:w,placement:I,isPositioned:U,middlewareData:K}=sr({strategy:"fixed",placement:T,whileElementsMounted:(...X)=>dr(...X,{animationFrame:b==="always"}),elements:{reference:p.anchor},middleware:[rr({mainAxis:o+S,alignmentAxis:c}),m&&ar({mainAxis:!0,crossAxis:!1,limiter:j==="partial"?cr():void 0,...H}),m&&nr({...H}),or({...H,apply:({elements:X,rects:re,availableWidth:ye,availableHeight:Ce})=>{const{width:Se,height:Ms}=re.reference,Te=X.floating.style;Te.setProperty("--radix-popper-available-width",`${ye}px`),Te.setProperty("--radix-popper-available-height",`${Ce}px`),Te.setProperty("--radix-popper-anchor-width",`${Se}px`),Te.setProperty("--radix-popper-anchor-height",`${Ms}px`)}}),y&&lr({element:y,padding:a}),ra({arrowWidth:k,arrowHeight:S}),C&&ir({strategy:"referenceHidden",...H})]}),[Y,ie]=os(I),Z=je(N);ee(()=>{U&&(Z==null||Z())},[U,Z]);const g=(P=K.arrow)==null?void 0:P.x,R=(L=K.arrow)==null?void 0:L.y,J=((Q=K.arrow)==null?void 0:Q.centerOffset)!==0,[be,ue]=l.useState();return ee(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),e.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...w,transform:U?w.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(O=K.transformOrigin)==null?void 0:O.x,(A=K.transformOrigin)==null?void 0:A.y].join(" "),...((M=K.hide)==null?void 0:M.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Jr,{scope:r,placedSide:Y,onArrowChange:_,arrowX:g,arrowY:R,shouldHideArrow:J,children:e.jsx(W.div,{"data-side":Y,"data-align":ie,...i,ref:v,style:{...i.style,animation:U?void 0:"none"}})})})});rs.displayName=vt;var as="PopperArrow",ta={top:"bottom",right:"left",bottom:"top",left:"right"},ns=l.forwardRef(function(s,r){const{__scopePopper:n,...o}=s,d=ea(as,n),c=ta[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(Xr,{...o,ref:r,style:{...o.style,display:"block"}})})});ns.displayName=as;function sa(t){return t!==null}var ra=t=>({name:"transformOrigin",options:t,fn(s){var p,x,h;const{placement:r,rects:n,middlewareData:o}=s,c=((p=o.arrow)==null?void 0:p.centerOffset)!==0,a=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[u,f]=os(r),j={start:"0%",center:"50%",end:"100%"}[f],C=(((x=o.arrow)==null?void 0:x.x)??0)+a/2,b=(((h=o.arrow)==null?void 0:h.y)??0)+m/2;let N="",i="";return u==="bottom"?(N=c?j:`${C}px`,i=`${-m}px`):u==="top"?(N=c?j:`${C}px`,i=`${n.floating.height+m}px`):u==="right"?(N=`${-m}px`,i=c?j:`${b}px`):u==="left"&&(N=`${n.floating.width+m}px`,i=c?j:`${b}px`),{data:{x:N,y:i}}}});function os(t){const[s,r="center"]=t.split("-");return[s,r]}var aa=es,na=ss,oa=rs,la=ns,ia="Portal",ls=l.forwardRef((t,s)=>{var a;const{container:r,...n}=t,[o,d]=l.useState(!1);ee(()=>d(!0),[]);const c=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return c?Ds.createPortal(e.jsx(W.div,{...n,ref:s}),c):null});ls.displayName=ia;var ca=$s[" useInsertionEffect ".trim().toString()]||ee;function It({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[o,d,c]=da({defaultProp:s,onChange:r}),a=t!==void 0,m=a?t:o;{const f=l.useRef(t!==void 0);l.useEffect(()=>{const j=f.current;j!==a&&console.warn(`${n} is changing from ${j?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=l.useCallback(f=>{var j;if(a){const C=ma(f)?f(t):f;C!==t&&((j=c.current)==null||j.call(c,C))}else d(f)},[a,t,d,c]);return[m,u]}function da({defaultProp:t,onChange:s}){const[r,n]=l.useState(t),o=l.useRef(r),d=l.useRef(s);return ca(()=>{d.current=s},[s]),l.useEffect(()=>{var c;o.current!==r&&((c=d.current)==null||c.call(d,r),o.current=r)},[r,o]),[r,n,d]}function ma(t){return typeof t=="function"}function ua(t){const s=l.useRef({value:t,previous:t});return l.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var ha=[" ","Enter","ArrowUp","ArrowDown"],xa=[" ","Enter"],ge="Select",[Be,ze,fa]=Ar(ge),[we,Ln]=nt(ge,[fa,Zt]),He=Zt(),[pa,de]=we(ge),[ga,va]=we(ge),is=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:o,onOpenChange:d,value:c,defaultValue:a,onValueChange:m,dir:u,name:f,autoComplete:j,disabled:C,required:b,form:N}=t,i=He(s),[p,x]=l.useState(null),[h,v]=l.useState(null),[y,_]=l.useState(!1),F=er(u),[k,S]=It({prop:n,defaultProp:o??!1,onChange:d,caller:ge}),[T,$]=It({prop:c,defaultProp:a,onChange:m,caller:ge}),D=l.useRef(null),z=p?N||!!p.closest("form"):!0,[H,B]=l.useState(new Set),w=Array.from(H).map(I=>I.props.value).join(";");return e.jsx(aa,{...i,children:e.jsxs(pa,{required:b,scope:s,trigger:p,onTriggerChange:x,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:y,onValueNodeHasChildrenChange:_,contentId:lt(),value:T,onValueChange:$,open:k,onOpenChange:S,dir:F,triggerPointerDownPosRef:D,disabled:C,children:[e.jsx(Be.Provider,{scope:s,children:e.jsx(ga,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(I=>{B(U=>new Set(U).add(I))},[]),onNativeOptionRemove:l.useCallback(I=>{B(U=>{const K=new Set(U);return K.delete(I),K})},[]),children:r})}),z?e.jsxs(Ts,{"aria-hidden":!0,required:b,tabIndex:-1,name:f,autoComplete:j,value:T,onChange:I=>$(I.target.value),disabled:C,form:N,children:[T===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},w):null]})})};is.displayName=ge;var cs="SelectTrigger",ds=l.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...o}=t,d=He(r),c=de(cs,r),a=c.disabled||n,m=G(s,c.onTriggerChange),u=ze(r),f=l.useRef("touch"),[j,C,b]=Rs(i=>{const p=u().filter(v=>!v.disabled),x=p.find(v=>v.value===c.value),h=As(p,i,x);h!==void 0&&c.onValueChange(h.value)}),N=i=>{a||(c.onOpenChange(!0),b()),i&&(c.triggerPointerDownPosRef.current={x:Math.round(i.pageX),y:Math.round(i.pageY)})};return e.jsx(na,{asChild:!0,...d,children:e.jsx(W.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Is(c.value)?"":void 0,...o,ref:m,onClick:V(o.onClick,i=>{i.currentTarget.focus(),f.current!=="mouse"&&N(i)}),onPointerDown:V(o.onPointerDown,i=>{f.current=i.pointerType;const p=i.target;p.hasPointerCapture(i.pointerId)&&p.releasePointerCapture(i.pointerId),i.button===0&&i.ctrlKey===!1&&i.pointerType==="mouse"&&(N(i),i.preventDefault())}),onKeyDown:V(o.onKeyDown,i=>{const p=j.current!=="";!(i.ctrlKey||i.altKey||i.metaKey)&&i.key.length===1&&C(i.key),!(p&&i.key===" ")&&ha.includes(i.key)&&(N(),i.preventDefault())})})})});ds.displayName=cs;var ms="SelectValue",us=l.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:o,children:d,placeholder:c="",...a}=t,m=de(ms,r),{onValueNodeHasChildrenChange:u}=m,f=d!==void 0,j=G(s,m.onValueNodeChange);return ee(()=>{u(f)},[u,f]),e.jsx(W.span,{...a,ref:j,style:{pointerEvents:"none"},children:Is(m.value)?e.jsx(e.Fragment,{children:c}):d})});us.displayName=ms;var ba="SelectIcon",hs=l.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...o}=t;return e.jsx(W.span,{"aria-hidden":!0,...o,ref:s,children:n||"▼"})});hs.displayName=ba;var ja="SelectPortal",xs=t=>e.jsx(ls,{asChild:!0,...t});xs.displayName=ja;var ve="SelectContent",fs=l.forwardRef((t,s)=>{const r=de(ve,t.__scopeSelect),[n,o]=l.useState();if(ee(()=>{o(new DocumentFragment)},[]),!r.open){const d=n;return d?ot.createPortal(e.jsx(ps,{scope:t.__scopeSelect,children:e.jsx(Be.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),d):null}return e.jsx(gs,{...t,ref:s})});fs.displayName=ve;var te=10,[ps,me]=we(ve),Na="SelectContentImpl",wa=Re("SelectContent.RemoveScroll"),gs=l.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:c,side:a,sideOffset:m,align:u,alignOffset:f,arrowPadding:j,collisionBoundary:C,collisionPadding:b,sticky:N,hideWhenDetached:i,avoidCollisions:p,...x}=t,h=de(ve,r),[v,y]=l.useState(null),[_,F]=l.useState(null),k=G(s,P=>y(P)),[S,T]=l.useState(null),[$,D]=l.useState(null),z=ze(r),[H,B]=l.useState(!1),w=l.useRef(!1);l.useEffect(()=>{if(v)return Bs(v)},[v]),zs();const I=l.useCallback(P=>{const[L,...Q]=z().map(M=>M.ref.current),[O]=Q.slice(-1),A=document.activeElement;for(const M of P)if(M===A||(M==null||M.scrollIntoView({block:"nearest"}),M===L&&_&&(_.scrollTop=0),M===O&&_&&(_.scrollTop=_.scrollHeight),M==null||M.focus(),document.activeElement!==A))return},[z,_]),U=l.useCallback(()=>I([S,v]),[I,S,v]);l.useEffect(()=>{H&&U()},[H,U]);const{onOpenChange:K,triggerPointerDownPosRef:Y}=h;l.useEffect(()=>{if(v){let P={x:0,y:0};const L=O=>{var A,M;P={x:Math.abs(Math.round(O.pageX)-(((A=Y.current)==null?void 0:A.x)??0)),y:Math.abs(Math.round(O.pageY)-(((M=Y.current)==null?void 0:M.y)??0))}},Q=O=>{P.x<=10&&P.y<=10?O.preventDefault():v.contains(O.target)||K(!1),document.removeEventListener("pointermove",L),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",Q,{capture:!0})}}},[v,K,Y]),l.useEffect(()=>{const P=()=>K(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[K]);const[ie,Z]=Rs(P=>{const L=z().filter(A=>!A.disabled),Q=L.find(A=>A.ref.current===document.activeElement),O=As(L,P,Q);O&&setTimeout(()=>O.ref.current.focus())}),g=l.useCallback((P,L,Q)=>{const O=!w.current&&!Q;(h.value!==void 0&&h.value===L||O)&&(T(P),O&&(w.current=!0))},[h.value]),R=l.useCallback(()=>v==null?void 0:v.focus(),[v]),J=l.useCallback((P,L,Q)=>{const O=!w.current&&!Q;(h.value!==void 0&&h.value===L||O)&&D(P)},[h.value]),be=n==="popper"?et:vs,ue=be===et?{side:a,sideOffset:m,align:u,alignOffset:f,arrowPadding:j,collisionBoundary:C,collisionPadding:b,sticky:N,hideWhenDetached:i,avoidCollisions:p}:{};return e.jsx(ps,{scope:r,content:v,viewport:_,onViewportChange:F,itemRefCallback:g,selectedItem:S,onItemLeave:R,itemTextRefCallback:J,focusSelectedItem:U,selectedItemText:$,position:n,isPositioned:H,searchRef:ie,children:e.jsx(Hs,{as:wa,allowPinchZoom:!0,children:e.jsx(Gt,{asChild:!0,trapped:h.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:V(o,P=>{var L;(L=h.trigger)==null||L.focus({preventScroll:!0}),P.preventDefault()}),children:e.jsx(Kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(be,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:P=>P.preventDefault(),...x,...ue,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:V(x.onKeyDown,P=>{const L=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!L&&P.key.length===1&&Z(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let O=z().filter(A=>!A.disabled).map(A=>A.ref.current);if(["ArrowUp","End"].includes(P.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const A=P.target,M=O.indexOf(A);O=O.slice(M+1)}setTimeout(()=>I(O)),P.preventDefault()}})})})})})})});gs.displayName=Na;var ya="SelectItemAlignedPosition",vs=l.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...o}=t,d=de(ve,r),c=me(ve,r),[a,m]=l.useState(null),[u,f]=l.useState(null),j=G(s,k=>f(k)),C=ze(r),b=l.useRef(!1),N=l.useRef(!0),{viewport:i,selectedItem:p,selectedItemText:x,focusSelectedItem:h}=c,v=l.useCallback(()=>{if(d.trigger&&d.valueNode&&a&&u&&i&&p&&x){const k=d.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),T=d.valueNode.getBoundingClientRect(),$=x.getBoundingClientRect();if(d.dir!=="rtl"){const A=$.left-S.left,M=T.left-A,X=k.left-M,re=k.width+X,ye=Math.max(re,S.width),Ce=window.innerWidth-te,Se=Ct(M,[te,Math.max(te,Ce-ye)]);a.style.minWidth=re+"px",a.style.left=Se+"px"}else{const A=S.right-$.right,M=window.innerWidth-T.right-A,X=window.innerWidth-k.right-M,re=k.width+X,ye=Math.max(re,S.width),Ce=window.innerWidth-te,Se=Ct(M,[te,Math.max(te,Ce-ye)]);a.style.minWidth=re+"px",a.style.right=Se+"px"}const D=C(),z=window.innerHeight-te*2,H=i.scrollHeight,B=window.getComputedStyle(u),w=parseInt(B.borderTopWidth,10),I=parseInt(B.paddingTop,10),U=parseInt(B.borderBottomWidth,10),K=parseInt(B.paddingBottom,10),Y=w+I+H+K+U,ie=Math.min(p.offsetHeight*5,Y),Z=window.getComputedStyle(i),g=parseInt(Z.paddingTop,10),R=parseInt(Z.paddingBottom,10),J=k.top+k.height/2-te,be=z-J,ue=p.offsetHeight/2,P=p.offsetTop+ue,L=w+I+P,Q=Y-L;if(L<=J){const A=D.length>0&&p===D[D.length-1].ref.current;a.style.bottom="0px";const M=u.clientHeight-i.offsetTop-i.offsetHeight,X=Math.max(be,ue+(A?R:0)+M+U),re=L+X;a.style.height=re+"px"}else{const A=D.length>0&&p===D[0].ref.current;a.style.top="0px";const X=Math.max(J,w+i.offsetTop+(A?g:0)+ue)+Q;a.style.height=X+"px",i.scrollTop=L-J+i.offsetTop}a.style.margin=`${te}px 0`,a.style.minHeight=ie+"px",a.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[C,d.trigger,d.valueNode,a,u,i,p,x,d.dir,n]);ee(()=>v(),[v]);const[y,_]=l.useState();ee(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const F=l.useCallback(k=>{k&&N.current===!0&&(v(),h==null||h(),N.current=!1)},[v,h]);return e.jsx(Sa,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:F,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:e.jsx(W.div,{...o,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});vs.displayName=ya;var Ca="SelectPopperPosition",et=l.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=te,...d}=t,c=He(r);return e.jsx(oa,{...c,...d,ref:s,align:n,collisionPadding:o,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});et.displayName=Ca;var[Sa,bt]=we(ve,{}),tt="SelectViewport",bs=l.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...o}=t,d=me(tt,r),c=bt(tt,r),a=G(s,d.onViewportChange),m=l.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Be.Slot,{scope:r,children:e.jsx(W.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:V(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:C}=c;if(C!=null&&C.current&&j){const b=Math.abs(m.current-f.scrollTop);if(b>0){const N=window.innerHeight-te*2,i=parseFloat(j.style.minHeight),p=parseFloat(j.style.height),x=Math.max(i,p);if(x<N){const h=x+b,v=Math.min(N,h),y=h-v;j.style.height=v+"px",j.style.bottom==="0px"&&(f.scrollTop=y>0?y:0,j.style.justifyContent="flex-end")}}}m.current=f.scrollTop})})})]})});bs.displayName=tt;var js="SelectGroup",[ka,Pa]=we(js),Ea=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=lt();return e.jsx(ka,{scope:r,id:o,children:e.jsx(W.div,{role:"group","aria-labelledby":o,...n,ref:s})})});Ea.displayName=js;var Ns="SelectLabel",_a=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=Pa(Ns,r);return e.jsx(W.div,{id:o.id,...n,ref:s})});_a.displayName=Ns;var Fe="SelectItem",[Ta,ws]=we(Fe),ys=l.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:d,...c}=t,a=de(Fe,r),m=me(Fe,r),u=a.value===n,[f,j]=l.useState(d??""),[C,b]=l.useState(!1),N=G(s,h=>{var v;return(v=m.itemRefCallback)==null?void 0:v.call(m,h,n,o)}),i=lt(),p=l.useRef("touch"),x=()=>{o||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ta,{scope:r,value:n,disabled:o,textId:i,isSelected:u,onItemTextChange:l.useCallback(h=>{j(v=>v||((h==null?void 0:h.textContent)??"").trim())},[]),children:e.jsx(Be.ItemSlot,{scope:r,value:n,disabled:o,textValue:f,children:e.jsx(W.div,{role:"option","aria-labelledby":i,"data-highlighted":C?"":void 0,"aria-selected":u&&C,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:N,onFocus:V(c.onFocus,()=>b(!0)),onBlur:V(c.onBlur,()=>b(!1)),onClick:V(c.onClick,()=>{p.current!=="mouse"&&x()}),onPointerUp:V(c.onPointerUp,()=>{p.current==="mouse"&&x()}),onPointerDown:V(c.onPointerDown,h=>{p.current=h.pointerType}),onPointerMove:V(c.onPointerMove,h=>{var v;p.current=h.pointerType,o?(v=m.onItemLeave)==null||v.call(m):p.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(c.onPointerLeave,h=>{var v;h.currentTarget===document.activeElement&&((v=m.onItemLeave)==null||v.call(m))}),onKeyDown:V(c.onKeyDown,h=>{var y;((y=m.searchRef)==null?void 0:y.current)!==""&&h.key===" "||(xa.includes(h.key)&&x(),h.key===" "&&h.preventDefault())})})})})});ys.displayName=Fe;var Pe="SelectItemText",Cs=l.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:o,...d}=t,c=de(Pe,r),a=me(Pe,r),m=ws(Pe,r),u=va(Pe,r),[f,j]=l.useState(null),C=G(s,x=>j(x),m.onItemTextChange,x=>{var h;return(h=a.itemTextRefCallback)==null?void 0:h.call(a,x,m.value,m.disabled)}),b=f==null?void 0:f.textContent,N=l.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:i,onNativeOptionRemove:p}=u;return ee(()=>(i(N),()=>p(N)),[i,p,N]),e.jsxs(e.Fragment,{children:[e.jsx(W.span,{id:m.textId,...d,ref:C}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ot.createPortal(d.children,c.valueNode):null]})});Cs.displayName=Pe;var Ss="SelectItemIndicator",ks=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return ws(Ss,r).isSelected?e.jsx(W.span,{"aria-hidden":!0,...n,ref:s}):null});ks.displayName=Ss;var st="SelectScrollUpButton",Ps=l.forwardRef((t,s)=>{const r=me(st,t.__scopeSelect),n=bt(st,t.__scopeSelect),[o,d]=l.useState(!1),c=G(s,n.onScrollButtonChange);return ee(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=m.scrollTop>0;d(u)};const m=r.viewport;return a(),m.addEventListener("scroll",a),()=>m.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?e.jsx(_s,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:m}=r;a&&m&&(a.scrollTop=a.scrollTop-m.offsetHeight)}}):null});Ps.displayName=st;var rt="SelectScrollDownButton",Es=l.forwardRef((t,s)=>{const r=me(rt,t.__scopeSelect),n=bt(rt,t.__scopeSelect),[o,d]=l.useState(!1),c=G(s,n.onScrollButtonChange);return ee(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=m.scrollHeight-m.clientHeight,f=Math.ceil(m.scrollTop)<u;d(f)};const m=r.viewport;return a(),m.addEventListener("scroll",a),()=>m.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?e.jsx(_s,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:m}=r;a&&m&&(a.scrollTop=a.scrollTop+m.offsetHeight)}}):null});Es.displayName=rt;var _s=l.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=t,d=me("SelectScrollButton",r),c=l.useRef(null),a=ze(r),m=l.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return l.useEffect(()=>()=>m(),[m]),ee(()=>{var f;const u=a().find(j=>j.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),e.jsx(W.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:V(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:V(o.onPointerMove,()=>{var u;(u=d.onItemLeave)==null||u.call(d),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:V(o.onPointerLeave,()=>{m()})})}),Ia="SelectSeparator",Ra=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(W.div,{"aria-hidden":!0,...n,ref:s})});Ra.displayName=Ia;var at="SelectArrow",Aa=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=He(r),d=de(at,r),c=me(at,r);return d.open&&c.position==="popper"?e.jsx(la,{...o,...n,ref:s}):null});Aa.displayName=at;var Ma="SelectBubbleInput",Ts=l.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const o=l.useRef(null),d=G(n,o),c=ua(s);return l.useEffect(()=>{const a=o.current;if(!a)return;const m=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==s&&f){const j=new Event("change",{bubbles:!0});f.call(a,s),a.dispatchEvent(j)}},[c,s]),e.jsx(W.select,{...r,style:{...mr,...r.style},ref:d,defaultValue:s})});Ts.displayName=Ma;function Is(t){return t===""||t===void 0}function Rs(t){const s=je(t),r=l.useRef(""),n=l.useRef(0),o=l.useCallback(c=>{const a=r.current+c;s(a),function m(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>m(""),1e3))}(a)},[s]),d=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,d]}function As(t,s,r){const o=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,d=r?t.indexOf(r):-1;let c=Fa(t,Math.max(d,0));o.length===1&&(c=c.filter(u=>u!==r));const m=c.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==r?m:void 0}function Fa(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var Oa=is,La=ds,Da=us,$a=hs,Ba=xs,za=fs,Ha=bs,Ua=ys,Va=Cs,Wa=ks,Ka=Ps,qa=Es;function Ga({...t}){return e.jsx(Oa,{"data-slot":"select",...t})}function Qa({...t}){return e.jsx(Da,{"data-slot":"select-value",...t})}function Ya({className:t,size:s="default",children:r,...n}){return e.jsxs(La,{"data-slot":"select-trigger","data-size":s,className:se("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,e.jsx($a,{asChild:!0,children:e.jsx(Ot,{className:"size-4 opacity-50"})})]})}function Xa({className:t,children:s,position:r="popper",...n}){return e.jsx(Ba,{children:e.jsxs(za,{"data-slot":"select-content",className:se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(Ja,{}),e.jsx(Ha,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(en,{})]})})}function Za({className:t,children:s,...r}){return e.jsxs(Ua,{"data-slot":"select-item",className:se("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Wa,{children:e.jsx(ur,{className:"size-4"})})}),e.jsx(Va,{children:s})]})}function Ja({className:t,...s}){return e.jsx(Ka,{"data-slot":"select-scroll-up-button",className:se("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(hr,{className:"size-4"})})}function en({className:t,...s}){return e.jsx(qa,{"data-slot":"select-scroll-down-button",className:se("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ot,{className:"size-4"})})}function tn(){var k;const[t,s]=l.useState(!1),[r,n]=l.useState("write"),[o,d]=l.useState(""),[c,a]=l.useState(""),[m,u]=l.useState(""),[f,j]=l.useState(""),[C,b]=l.useState(null),[N,i]=l.useState(null),{data:p,isLoading:x}=ne({queryKey:["categories"],queryFn:()=>xr.getTechCategories()}),h=Us({mutationFn:async S=>{const T=new FormData;return T.append("title",S.title),T.append("description",S.description),T.append("category",S.category),S.tags.forEach(D=>T.append("tags",D)),S.featured_image&&T.append("featured_image",S.featured_image),(await Me.createForums(T)).data},onSuccess:()=>{Ue.success("Post created successfully!"),s(!1),_()},onError:S=>{Ue.error("Failed to create post"),console.error("Error creating post:",S)}}),v=S=>{var $;const T=($=S.target.files)==null?void 0:$[0];if(T){b(T);const D=new FileReader;D.onload=z=>{var H;i((H=z.target)==null?void 0:H.result)},D.readAsDataURL(T)}},y=()=>{b(null),i(null)},_=()=>{d(""),a(""),u(""),j(""),b(null),i(null)},F=()=>{if(!o||!c||!m){Ue.error("Please fill all required fields");return}const S=f.split(",").map(T=>T.trim()).filter(T=>T);h.mutate({title:o,description:c,category:m,tags:S,featured_image:C})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{onClick:()=>s(!0),children:"Create Forum Post"}),e.jsx(Vs,{open:t,onOpenChange:S=>{S||_(),s(S)},children:e.jsxs(Ws,{className:"max-w-7xl p-0 overflow-scroll-y",children:[e.jsx(Ks,{className:"p-6 pb-2",children:e.jsx(qs,{className:"text-xl font-bold",children:"Create New Forum Post"})}),e.jsx("div",{className:"p-6 pt-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),e.jsx(xe,{id:"title",placeholder:"Enter forum post title",value:o,onChange:S=>d(S.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"category",className:"text-sm font-medium",children:"Category *"}),e.jsxs(Ga,{value:m,onValueChange:u,disabled:x,children:[e.jsx(Ya,{id:"category",className:"mt-1",children:e.jsx(Qa,{placeholder:x?"Loading...":"Select category"})}),e.jsx(Xa,{children:(k=p==null?void 0:p.results)==null?void 0:k.map(S=>e.jsx(Za,{value:S.id.toString(),children:S.name},S.id))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"tags",className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(ut,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(xe,{id:"tags",placeholder:"Tags separated by commas",value:f,onChange:S=>j(S.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{className:"text-sm font-medium mb-2 block",children:"Featured Image"}),N?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border",children:[e.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover"}),e.jsx(E,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full",onClick:y,children:e.jsx(_e,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-primary/5 transition-colors",children:[e.jsx("input",{type:"file",id:"featured-image",accept:"image/*",className:"hidden",onChange:v}),e.jsxs("label",{htmlFor:"featured-image",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(Tr,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Click to upload featured image"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"content",className:"text-sm font-medium mb-2 block",children:"Content *"}),e.jsxs(Le,{value:r,onValueChange:n,className:"w-full",children:[e.jsxs(De,{className:"grid grid-cols-2",children:[e.jsxs(ae,{value:"write",className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"})," Write"]}),e.jsxs(ae,{value:"preview",className:"flex items-center gap-2",children:[e.jsx(wr,{className:"h-4 w-4"})," Preview"]})]}),e.jsx(jt,{value:"write",className:"mt-2",children:e.jsx(Js,{id:"content",placeholder:"Use Markdown to format your comment",value:c,rows:10,onChange:S=>a(S.target.value),className:"min-h-[200px] max-h-[400px] overflow-y-auto",autoFocus:!0})}),e.jsx(jt,{value:"preview",className:"border rounded-md p-4 min-h-[200px] max-h-[400px] overflow-y-auto mt-2",children:c?e.jsx("div",{className:"prose max-w-none h-full overflow-auto",children:e.jsx(fr,{children:c})}):e.jsx("p",{className:"text-muted-foreground text-center italic py-8",children:"Preview will appear here"})})]})]})]})}),e.jsx(Gs,{className:"p-6 pt-2 border-t bg-muted/30",children:e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(E,{variant:"outline",onClick:()=>{_(),s(!1)},disabled:h.isPending,children:"Cancel"}),e.jsx(E,{onClick:F,disabled:h.isPending||!o||!c||!m,children:h.isPending?"Creating...":"Create Post"})]})})]})})]})}const Rt=({title:t,children:s})=>e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:t}),e.jsx("div",{className:"space-y-2",children:s})]}),sn=({icon:t,label:s,count:r,active:n,onClick:o})=>e.jsxs(E,{variant:n?"default":"ghost",className:`w-full justify-between text-sm font-normal px-2 py-1.5 h-auto ${n?"":"hover:bg-primary/5"}`,onClick:o,children:[e.jsxs("div",{className:"flex items-center",children:[t,e.jsx("span",{className:"ml-2 truncate",children:s})]}),e.jsx(q,{variant:n?"default":"outline",className:"ml-2",children:r})]}),Ie=({label:t,onClear:s})=>e.jsxs(q,{variant:"outline",className:"flex items-center gap-1 bg-primary/5 text-primary",children:[t,e.jsx("button",{onClick:s,className:"ml-1 hover:bg-primary/10 rounded-full",children:e.jsx(_e,{className:"h-3 w-3"})})]}),rn=()=>{var K,Y,ie,Z;const t=it(),[s,r]=l.useState(""),[n,o]=l.useState(""),[d,c]=l.useState("popular"),[a,m]=l.useState(1),[u,f]=l.useState(),{isAuthenticated:j}=ct(),C=dt(),[b,N]=l.useState(!1),[i,p]=l.useState({following:!1,bookmarked:!1});l.useEffect(()=>{const g=setTimeout(()=>{o(s),m(1)},300);return()=>{clearTimeout(g)}},[s]),l.useEffect(()=>{m(1)},[i.following,i.bookmarked,u,d]);const{data:x,isLoading:h,error:v,refetch:y}=ne({queryKey:["forums",a,d,n,u,i],queryFn:()=>Me.getForums({search:n,page:a,size:10,category:u,followed_by:i.following?"me":"",bookmarked:i.bookmarked})}),{data:_,isLoading:F}=ne({queryKey:["categories"],queryFn:()=>Me.getForumCategories()}),k=g=>{r(g.target.value)},S=g=>{f(g===u?void 0:g),N(!1)},T=g=>{c(g)},$=g=>{if(!j){C(Ae(!0));return}g==="following"?(p(R=>({...R,following:!R.following})),i.following||c("me")):g==="bookmarked"&&(p(R=>({...R,bookmarked:!R.bookmarked})),i.bookmarked||c("bookmark"))},D=g=>{g==="category"?f(void 0):g==="search"?(r(""),o("")):g==="following"?p(R=>({...R,following:!1})):g==="bookmarked"&&p(R=>({...R,bookmarked:!1}))},z=g=>{m(g),window.scrollTo({top:0,behavior:"smooth"})},H=g=>{t(`/forum/${g}`)},B=x!=null&&x.count?Math.ceil(x.count/10):0,w=g=>{if(!g)return"";const R=g.split(" ");return R.length>=2?`${R[0][0]}${R[1][0]}`.toUpperCase():g.substring(0,2).toUpperCase()},I=g=>{if(!g)return"";const R=new Date(g);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(R)},U=u&&(_!=null&&_.results)?(K=_.results.find(g=>g.id===u))==null?void 0:K.name:null;return e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Tech Forums"}),e.jsx(E,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>N(!b),children:e.jsx(At,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 md:gap-8",children:[b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>N(!1)}),e.jsx("div",{className:`fixed lg:static z-50 lg:z-auto inset-y-0 left-0 w-72 p-4 lg:p-0 bg-background lg:bg-transparent overflow-y-auto transition-transform duration-300 ease-in-out ${b?"translate-x-0":"-translate-x-full"} lg:translate-x-0 order-2 lg:order-1`,children:e.jsxs("div",{className:"space-y-6 lg:sticky lg:top-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 lg:hidden",children:[e.jsx("h2",{className:"font-semibold",children:"Browse Forums"}),e.jsx(E,{variant:"ghost",size:"sm",className:"p-1 h-auto",onClick:()=>N(!1),children:e.jsx(_e,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(xe,{placeholder:"Search forums...",className:"w-full pl-9",value:s,onChange:k})]})}),e.jsx(Rt,{title:"Browse By",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(E,{variant:d==="popular"?"default":"outline",size:"sm",className:"justify-start",onClick:()=>c("popular"),children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"})," Popular"]}),e.jsxs(E,{variant:d==="recent"?"default":"outline",size:"sm",className:"justify-start",onClick:()=>c("recent"),children:[e.jsx(mt,{className:"h-4 w-4 mr-2"})," Recent"]}),e.jsxs(E,{variant:i.following?"default":"outline",size:"sm",className:"justify-start",onClick:()=>$("following"),children:[e.jsx(kr,{className:"h-4 w-4 mr-2 text-primary"})," Following"]}),e.jsxs(E,{variant:i.bookmarked?"default":"outline",size:"sm",className:"justify-start",onClick:()=>$("bookmarked"),children:[e.jsx(Ze,{className:"h-4 w-4 mr-2 text-primary"})," Saved"]})]})}),e.jsx(Rt,{title:"Categories",children:F?e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(g=>e.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"},g))}):e.jsx(e.Fragment,{children:(Y=_==null?void 0:_.results)==null?void 0:Y.map(g=>e.jsx(sn,{icon:e.jsx(ut,{className:`h-4 w-4 ${u===g.id?"":"text-primary"}`}),label:g.name,count:g.forum_count||0,active:u===g.id,onClick:()=>S(g.id)},g.id))})}),e.jsxs("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Join the conversation"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect with other tech enthusiasts and share your knowledge."}),j?e.jsx(tn,{}):e.jsx(E,{variant:"default",className:"w-full",onClick:()=>C(Ae(!0)),children:"Create a Forum"})]})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6 order-1 lg:order-2",children:[(n||u||i.following||i.bookmarked)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground flex items-center mr-2",children:"Filters:"}),n&&e.jsx(Ie,{label:`Search: ${n}`,onClear:()=>D("search")}),U&&e.jsx(Ie,{label:`Category: ${U}`,onClear:()=>D("category")}),i.following&&e.jsx(Ie,{label:"Following",onClear:()=>D("following")}),i.bookmarked&&e.jsx(Ie,{label:"Bookmarked",onClear:()=>D("bookmarked")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-semibold",children:[n?`Search: "${n}"`:"All Forums",U&&e.jsxs("span",{className:"text-muted-foreground ml-2 text-sm",children:["in ",U]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y(),disabled:h,children:e.jsx(Cr,{className:`h-4 w-4 ${h?"animate-spin":""}`})}),e.jsx(Le,{value:d,onValueChange:T,children:e.jsxs(De,{className:"bg-muted/50",children:[e.jsx(ae,{value:"popular",className:"text-xs",children:"Popular"}),e.jsx(ae,{value:"recent",className:"text-xs",children:"Recent"})]})})]})]}),h?e.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(g=>e.jsx(an,{},g))}):v?e.jsxs("div",{className:"p-6 md:p-8 text-center rounded-xl border border-border",children:[e.jsx(pr,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto text-red-500 mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium mb-2",children:"Error loading forums."}),e.jsx("p",{className:"text-muted-foreground mb-4 md:mb-6",children:"There was a problem fetching the forums. Please try again later."}),e.jsx(E,{onClick:()=>y(),children:"Try Again"})]}):((ie=x==null?void 0:x.results)==null?void 0:ie.length)===0?e.jsxs("div",{className:"p-6 md:p-8 text-center rounded-xl border border-border",children:[e.jsx($e,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium mb-2",children:"No forums found"}),e.jsx("p",{className:"text-muted-foreground mb-4 md:mb-6",children:n?`No forums matching "${n}" were found.`:u?"No forums in this category yet.":i.following?"You're not following any forums yet.":i.bookmarked?"You haven't bookmarked any forums yet.":"No forums available. Be the first to create one!"}),(i.following||i.bookmarked||u||n)&&e.jsx(E,{variant:"outline",onClick:()=>{p({following:!1,bookmarked:!1}),f(void 0),r(""),o(""),c("popular")},children:"Clear All Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 md:space-y-6",children:(Z=x==null?void 0:x.results)==null?void 0:Z.map(g=>e.jsx("div",{className:"bg-card rounded-xl p-4 md:p-5 shadow-sm hover:shadow-md transition-all duration-300 border border-border/50 cursor-pointer",onClick:()=>H(g.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fe,{className:"h-8 w-8 md:h-10 md:w-10 flex-shrink-0",children:g.created_by.profile_image?e.jsx(Ne,{src:g.created_by.profile_image,alt:g.created_by.username}):e.jsx(pe,{children:w(`${g.created_by.first_name} ${g.created_by.last_name}`)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm md:text-base truncate max-w-full sm:max-w-xs",children:g.created_by.username}),e.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground whitespace-nowrap",children:["• ",I(g.created_at)]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1 sm:mt-0",children:[g.followers_count>10&&e.jsx(q,{className:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20 text-xs",children:"Hot"}),!g.is_public&&e.jsx(q,{className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 text-xs",children:"Private"}),g.locked&&e.jsx(q,{className:"bg-red-500/10 text-red-500 hover:bg-red-500/20 text-xs",children:"Locked"})]})]}),e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2 break-words",children:g.title}),e.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2 text-sm md:text-base break-words",children:g.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary text-xs md:text-sm",children:["#",g.category.name]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs md:text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-3 w-3 md:h-4 md:w-4"}),e.jsxs("span",{children:[g.discussion_count||0," discussions"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"h-3 w-3 md:h-4 md:w-4"}),e.jsxs("span",{children:[g.followers_count||0," followers"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-3 w-3 md:h-4 md:w-4"}),e.jsxs("span",{children:[g.views||0," views"]})]})]}),g.latest_discussion&&e.jsxs("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"w-1 h-4 md:h-5 bg-primary/50 rounded"}),e.jsx("span",{className:"text-xs md:text-sm font-medium",children:"Latest Discussion"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2",children:[e.jsx(fe,{className:"h-5 w-5 md:h-6 md:w-6 flex-shrink-0",children:g.latest_discussion.author.profile_image?e.jsx(Ne,{src:g.latest_discussion.author.profile_image}):e.jsx(pe,{children:w(`${g.latest_discussion.author.first_name} ${g.latest_discussion.author.last_name}`)})}),e.jsx("span",{className:"text-xs md:text-sm truncate max-w-full sm:max-w-xs",children:g.latest_discussion.author.username}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:I(g.latest_discussion.created_at)})]}),e.jsx("p",{className:"text-sm font-medium mt-1 hover:text-primary line-clamp-1 break-words",children:g.latest_discussion.title})]})]})]})]})},g.id))}),B>1&&e.jsx(ht,{className:"mt-6 md:mt-8",children:e.jsxs(xt,{children:[e.jsx(oe,{children:e.jsx(ft,{onClick:()=>a>1&&z(a-1),className:a===1?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{let g=[];return B<=5?g=Array.from({length:B},(R,J)=>J+1):a<=3?g=[1,2,3,4,5]:a>=B-2?g=Array.from({length:5},(R,J)=>B-4+J):g=[a-2,a-1,a,a+1,a+2],g.map(R=>e.jsx(oe,{children:e.jsx(E,{variant:a===R?"default":"outline",size:"sm",className:"h-8 w-8",onClick:()=>z(R),children:R})},R))})(),e.jsx(oe,{children:e.jsx(pt,{onClick:()=>a<B&&z(a+1),className:a===B?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]})]})},an=()=>e.jsx("div",{className:"bg-card rounded-xl p-4 md:p-5 shadow-sm border border-border/50 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 rounded-full bg-muted flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mb-1",children:[e.jsx("div",{className:"h-3 md:h-4 w-20 md:w-24 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-12 md:w-16 bg-muted rounded"})]}),e.jsx("div",{className:"h-4 md:h-6 w-3/4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 md:h-4 w-full bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 md:h-4 w-4/5 bg-muted rounded mb-3"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("div",{className:"h-4 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"h-3 md:h-4 w-12 bg-muted rounded"}),e.jsx("div",{className:"h-3 md:h-4 w-12 bg-muted rounded"}),e.jsx("div",{className:"h-3 md:h-4 w-20 bg-muted rounded"})]})]})]})}),Ke=({title:t,children:s})=>e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:t}),e.jsx("div",{className:"space-y-2",children:s})]}),nn=({icon:t,label:s,count:r,active:n,onClick:o})=>e.jsxs(E,{variant:n?"default":"ghost",className:`w-full justify-between text-sm font-normal px-2 py-1.5 h-auto ${n?"":"hover:bg-primary/5"}`,onClick:o,children:[e.jsxs("div",{className:"flex items-center",children:[t,e.jsx("span",{className:"ml-2 truncate",children:s})]}),e.jsx(q,{variant:n?"default":"outline",className:"ml-2",children:r})]}),qe=({label:t,onClear:s})=>e.jsxs(q,{variant:"outline",className:"flex items-center gap-1 bg-primary/5 text-primary",children:[t,e.jsx("button",{onClick:s,className:"ml-1 hover:bg-primary/10 rounded-full",children:e.jsx(_e,{className:"h-3 w-3"})})]}),on=()=>{const[t,s]=l.useState(""),[r,n]=l.useState(""),[o,d]=l.useState("popular"),[c,a]=l.useState(1),{isAuthenticated:m}=ct(),u=dt(),f=it(),[j,C]=l.useState(),[b,N]=l.useState(!1),[i,p]=l.useState({following:!1,bookmarked:!1}),{data:x,isLoading:h,isError:v,error:y,refetch:_}=ne({queryKey:["blogs",{sortBy:o,searchQuery:t,currentPage:c}],queryFn:()=>Xe.getBlogs({ordering:o==="popular"?"-views":"-published_at",search:t||void 0,page:c,bookmarked:i.bookmarked})});l.useEffect(()=>{const w=setTimeout(()=>{n(t),a(1)},300);return()=>{clearTimeout(w)}},[t]);const F=w=>{if(!m){u(Ae(!0));return}p(I=>({...I,bookmarked:!I.bookmarked})),i.bookmarked||d("bookmark")},k=w=>{w==="category"?C(void 0):w==="search"?(s(""),n("")):w==="following"?p(I=>({...I,following:!1})):w==="bookmarked"&&p(I=>({...I,bookmarked:!1}))},S=w=>{C(w===j?void 0:w),N(!1)},{data:T}=ne({queryKey:["blog-categories"],queryFn:()=>Xe.getCategories()});x!=null&&x.count&&Math.ceil(x.count/10);const $=(x==null?void 0:x.results)||[],D=w=>{f(`/blogs/${w}`)},z=w=>{w.preventDefault(),a(1),_()},H=()=>{a(w=>w+1)},B=w=>{d(w),a(1)};return v?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("p",{className:"text-red-500",children:["Error loading blogs:"," ",y instanceof Error?y.message:"Unknown error"]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold"}),e.jsx(E,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>N(!b),children:e.jsx(At,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>N(!1)}),e.jsx("div",{className:`fixed lg:static z-50 lg:z-auto inset-y-0 left-0 w-72 p-4 lg:p-0 bg-background lg:bg-transparent overflow-y-auto transition-transform duration-300 ease-in-out ${b?"translate-x-0":"-translate-x-full"} lg:translate-x-0 order-2 lg:order-1`,children:e.jsxs("div",{className:"space-y-6 lg:sticky lg:top-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 lg:hidden",children:[e.jsx("h2",{className:"font-semibold",children:"Browse Articles"}),e.jsx(E,{variant:"ghost",size:"sm",className:"p-1 h-auto",onClick:()=>N(!1),children:e.jsx(_e,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"md:hidden mb-6",children:e.jsx("form",{onSubmit:z,children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(xe,{placeholder:"Search articles...",className:"pl-8",value:t,onChange:w=>s(w.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})})}),e.jsx(Ke,{title:"Search",children:e.jsx("form",{onSubmit:z,className:"mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(xe,{placeholder:"Search articles...",className:"pl-8",value:t,onChange:w=>s(w.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})})}),e.jsx(Ke,{title:"Popular Topics",children:T==null?void 0:T.results.map(w=>e.jsx(nn,{icon:e.jsx(ut,{className:`h-4 w-4 ${j===w.id?"":"text-primary"}`}),label:w.name,count:w.blogs_count||0,active:j===w.id,onClick:()=>S(w.id)},w.id))}),e.jsx(Ke,{title:"Reading Lists",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs(E,{className:"justify-start text-sm font-normal h-auto py-2",variant:i.bookmarked?"default":"ghost",size:"sm",onClick:()=>F(),children:[e.jsx(Ze,{className:"h-4 w-4 mr-2 text-primary"})," My Bookmarks"]}),e.jsxs(E,{className:"justify-start text-sm font-normal h-auto py-2",variant:o==="popular"?"default":"ghost",size:"sm",onClick:()=>d("popular"),children:[e.jsx(Ut,{className:"h-4 w-4 mr-2 text-primary"})," Trending Articles"]})]})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6 order-1 lg:order-2",children:[(r||j||i.following||i.bookmarked)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground flex items-center mr-2",children:"Filters:"}),r&&e.jsx(qe,{label:`Search: ${r}`,onClear:()=>k("search")}),i.following&&e.jsx(qe,{label:"Following",onClear:()=>k("following")}),i.bookmarked&&e.jsx(qe,{label:"Bookmarked",onClear:()=>k("bookmarked")})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Latest Articles"}),e.jsx(Le,{value:o,onValueChange:w=>B(w),className:"hidden sm:block",children:e.jsxs(De,{className:"bg-muted/50",children:[e.jsx(ae,{value:"popular",className:"text-xs",children:"Popular"}),e.jsx(ae,{value:"recent",className:"text-xs",children:"Recent"})]})})]}),h&&c===1?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ge,{}),e.jsx(Ge,{}),e.jsx(Ge,{})]}):e.jsxs(e.Fragment,{children:[$.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No articles found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try changing your search query or filters."})]}):e.jsx(e.Fragment,{children:$.map(w=>e.jsx("div",{className:"bg-card rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 border border-border/50 cursor-pointer",onClick:()=>D(w.slug),children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[w.featured_image&&e.jsx("div",{className:"md:w-1/3 bg-primary/10 h-48 md:h-auto shrink-0 relative overflow-hidden",children:e.jsx("img",{src:w.featured_image,alt:w.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(q,{className:"bg-primary/10 text-primary hover:bg-primary/20 text-xs",children:"5 min read"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["•"," ",new Date(w.published_at||w.created_at).toLocaleDateString()]})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2 hover:text-primary transition-colors",children:w.title}),e.jsxs("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:[w.content.substring(0,200),"..."]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:w.categories.slice(0,3).map(I=>e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary",children:["#",I.name]},I.id))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(fe,{className:"h-6 w-6 mr-2",children:e.jsx(pe,{children:w.author.username.substring(0,2).toUpperCase()})}),e.jsx("span",{className:"font-medium",children:w.author.username})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ht,{className:"h-4 w-4"}),w.views," views"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),w.comments.length||0," comments"]})]})]})]})]})},w.id))}),h&&c>1&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading more articles..."})]}),(x==null?void 0:x.next)&&!h&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(E,{variant:"outline",className:"w-full md:w-auto",onClick:H,children:"Load More Articles"})})]})]})]})]})},Ge=()=>e.jsx("div",{className:"bg-card rounded-xl overflow-hidden shadow-sm border border-border/50 animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"md:w-1/3 bg-muted h-48 md:h-auto shrink-0"}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsx("div",{className:"h-7 w-3/4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 w-full bg-muted rounded mb-1"}),e.jsx("div",{className:"h-4 w-2/3 bg-muted rounded mb-4"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-5 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-muted mr-2"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-10 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-10 bg-muted rounded"})]})]})]})]})}),ln=()=>{const{isAuthenticated:t}=ct(),s=dt(),[r,n]=l.useState(1),[o,d]=l.useState(""),[c,a]=l.useState(null),{data:m,isLoading:u,error:f,refetch:j}=ne({queryKey:["polls",r,o,c],queryFn:()=>Nt.getPolls({page:r,search:o})}),{data:C}=ne({queryKey:["categories"],queryFn:()=>Me.getForumCategories()}),b=async(h,v)=>{if(!t){s(Ae(!0));return}try{await Nt.createVote({poll:h,option:v}),j()}catch(y){console.error("Failed to vote:",y)}},N=h=>{n(h),window.scrollTo({top:0,behavior:"smooth"})},i=h=>{h.preventDefault(),n(1),j()},p=h=>{a(h===c?null:h),n(1)},x=m!=null&&m.count?Math.ceil(m.count/10):0;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-card rounded-xl p-4 shadow-sm border border-border/50 sticky top-20",children:[e.jsx("form",{onSubmit:i,className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(xe,{placeholder:"Search polls...",className:"pl-8",value:o,onChange:h=>d(h.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Categories"})]}),e.jsx("div",{className:"space-y-2",children:u?Array(5).fill(0).map((h,v)=>e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"},v)):C!=null&&C.results?C.results.map(h=>e.jsxs(q,{variant:c===h.id?"default":"outline",className:"mr-2 mb-2 cursor-pointer hover:bg-primary/10 hover:text-primary w-full justify-between",onClick:()=>p(h.id),children:[h.name,e.jsx("span",{className:"ml-auto bg-background/80 text-xs px-1.5 py-0.5 rounded-sm",children:0})]},h.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories found"})})]})]})}),e.jsx("div",{className:"md:col-span-3",children:u?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Qe,{}),e.jsx(Qe,{}),e.jsx(Qe,{})]}):f?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500",children:"Failed to load polls"}),e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>j(),children:"Retry"})]}):!(m!=null&&m.results)||m.results.length===0?e.jsxs("div",{className:"text-center py-12 bg-card rounded-xl p-6 shadow-sm border border-border/50",children:[e.jsx("p",{className:"text-muted-foreground",children:"No polls available yet"}),o||c?e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>{d(""),a(null)},children:"Clear filters"}):null]}):e.jsxs("div",{className:"space-y-6",children:[m.results.map(h=>e.jsx(cn,{poll:h,onVote:b},h.id)),x>1&&e.jsx(ht,{className:"mt-8",children:e.jsxs(xt,{children:[e.jsx(oe,{children:e.jsx(ft,{onClick:()=>r>1&&N(r-1),className:r===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,x)},(h,v)=>{let y;return x<=5||r<=3?y=v+1:r>=x-2?y=x-4+v:y=r-2+v,y>0&&y<=x?e.jsx(oe,{children:e.jsx(E,{variant:r===y?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>N(y),children:y})},y):null}),e.jsx(oe,{children:e.jsx(pt,{onClick:()=>r<x&&N(r+1),className:r===x?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})})]})},cn=({poll:t,onVote:s})=>{var m,u,f,j,C;t.options.reduce((b,N)=>b+(N.vote_count||0),0);const[r,n]=l.useState(!1),[o,d]=l.useState(null),c=async()=>{if(o!==null){n(!0);try{await(s==null?void 0:s(t.id,o))}finally{n(!1)}}},a=()=>{if(!t.ends_at)return null;const b=new Date(t.ends_at),N=new Date;if(N>b)return"Poll ended";const i=Math.abs(b.getTime()-N.getTime()),p=Math.floor(i/(1e3*60*60*24));if(p>0)return`${p} days left`;const x=Math.floor(i%(1e3*60*60*24)/(1e3*60*60));return x>0?`${x} hours left`:`${Math.floor(i%(1e3*60*60)/(1e3*60))} minutes left`};return e.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-border/50",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"h-8 w-8",children:(m=t.created_by)!=null&&m.profile_image?e.jsx(Ne,{src:t.created_by.profile_image,alt:t.created_by.username}):e.jsx(pe,{children:((f=(u=t.created_by)==null?void 0:u.username)==null?void 0:f.slice(0,2).toUpperCase())||"??"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((j=t.created_by)==null?void 0:j.username)||"Anonymous"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Posted a poll • ",new Date(t.created_at).toLocaleDateString()]})]})]}),e.jsx(q,{variant:"outline",className:"text-sm bg-amber-100 text-amber-800 border-amber-200",children:a()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-3",children:[t.featured_image&&e.jsx("div",{className:"md:col-span-2",children:e.jsx("img",{src:t.featured_image,alt:t.title,className:"rounded-lg w-full h-48 object-cover"})}),e.jsxs("div",{className:`${t.featured_image?"md:col-span-3":"md:col-span-5"}`,children:[e.jsx(Ye,{to:`/polls/${t.id}`,className:"hover:underline",children:e.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title})}),e.jsx("div",{className:"space-y-3",children:t.options.map(b=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:`poll-${t.id}`,className:"h-4 w-4 text-primary",onChange:()=>d(b.id),disabled:t.user_vote!==null||r,checked:o===b.id}),e.jsx("span",{children:b.text})]})}),e.jsxs("span",{className:"text-muted-foreground",children:[b.vote_percentage,"%"]})]}),e.jsx(Mt,{value:b.vote_percentage,className:"h-2",indicatorClassName:b.id===1?"bg-blue-500":b.id===2?"bg-green-500":b.id===3?"bg-red-500":b.id===4?"bg-purple-500":b.id===5?"bg-yellow-500":b.id===6?"bg-cyan-500":"bg-primary"}),e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground text-right",children:[b.vote_count," votes"]})]},b.id))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:(C=t.categories)==null?void 0:C.map(b=>e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary",children:["#",b]},b))}),e.jsxs("div",{className:"flex space-x-2",children:[t.user_vote?e.jsx(E,{variant:"outline",size:"sm",disabled:!0,children:"Voted"}):e.jsx(E,{variant:"outline",size:"sm",onClick:c,disabled:o===null||r,children:r?e.jsx(Qs,{className:"h-4 w-4 animate-spin"}):"Vote Now"}),e.jsx(E,{variant:"default",size:"sm",onClick:()=>{window.open(`/polls/${t.id}`)},children:"View Details"})]})]})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground flex items-center",children:[e.jsx(mt,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[new Date(t.starts_at).toLocaleDateString()," - ",new Date(t.ends_at).toLocaleDateString()]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:[t.total_votes," total votes"]})]})]})},Qe=()=>e.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 w-24 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-32 bg-muted rounded mt-1"})]})]}),e.jsx("div",{className:"h-7 w-3/4 bg-muted rounded mt-3 mb-6"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("div",{className:"h-5 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-8 bg-muted rounded"})]}),e.jsx("div",{className:"h-2 w-full bg-muted rounded"}),e.jsx("div",{className:"h-3 w-12 bg-muted rounded mt-1 ml-auto"})]},t))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-5 w-20 bg-muted rounded"})]}),e.jsx("div",{className:"h-8 w-20 bg-muted rounded"})]})]}),dn=()=>{const[t,s]=l.useState(1),[r,n]=l.useState(""),[o,d]=l.useState(null),{data:c,isLoading:a,error:m,refetch:u}=ne({queryKey:["projects",t,r,o],queryFn:()=>wt.getProjects({page:t,search:r})}),{data:f}=ne({queryKey:["project-categories"],queryFn:()=>wt.getCategories()}),j=i=>{s(i),window.scrollTo({top:0,behavior:"smooth"})},C=i=>{i.preventDefault(),s(1),u()},b=i=>{d(i===o?null:i),s(1)},N=c!=null&&c.count?Math.ceil(c.count/10):0;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-card rounded-xl p-4 shadow-sm border border-border/50 sticky top-20",children:[e.jsx("form",{onSubmit:C,className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(xe,{placeholder:"Search projects...",className:"pl-8",value:r,onChange:i=>n(i.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Categories"})]}),e.jsx("div",{className:"space-y-2",children:a?Array(5).fill(0).map((i,p)=>e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"},p)):f!=null&&f.results?f.results.map(i=>e.jsxs(q,{variant:o===i.id?"default":"outline",className:"mr-2 mb-2 cursor-pointer hover:bg-primary/10 hover:text-primary w-full justify-between",onClick:()=>b(i.id),children:[i.name,e.jsx("span",{className:"ml-auto bg-background/80 text-xs px-1.5 py-0.5 rounded-sm",children:i.project_count||0})]},i.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories found"})})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[e.jsx(E,{variant:"outline",className:"w-full",children:"Trending Projects"}),e.jsx(E,{variant:"outline",className:"w-full mt-2",children:"My Projects"})]})]})}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Community Projects"}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(i=>e.jsx(un,{},i))}):m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500",children:"Failed to load projects"}),e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>u(),children:"Retry"})]}):!(c!=null&&c.results)||c.results.length===0?e.jsxs("div",{className:"text-center py-12 bg-card rounded-xl p-6 shadow-sm border border-border/50",children:[e.jsx("p",{className:"text-muted-foreground",children:"No projects available yet"}),r||o?e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>{n(""),d(null)},children:"Clear filters"}):null]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.results.map(i=>e.jsx(mn,{project:i},i.id))}),N>1&&e.jsx(ht,{className:"mt-8",children:e.jsxs(xt,{children:[e.jsx(oe,{children:e.jsx(ft,{onClick:()=>t>1&&j(t-1),className:t===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,N)},(i,p)=>{let x;return N<=5||t<=3?x=p+1:t>=N-2?x=N-4+p:x=t-2+p,x>0&&x<=N?e.jsx(oe,{children:e.jsx(E,{variant:t===x?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>j(x),children:x})},x):null}),e.jsx(oe,{children:e.jsx(pt,{onClick:()=>t<N&&j(t+1),className:t===N?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]})},mn=({project:t})=>{var s,r,n;return e.jsxs(Dt,{className:"overflow-hidden hover:shadow-md transition-all duration-300",children:[t.featured_image&&e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),e.jsxs($t,{className:t.featured_image?"-mt-10 relative z-10":"",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"h-8 w-8 border-2 border-background",children:t.author.profileImage?e.jsx(Ne,{src:t.author.profileImage,alt:t.author.username}):e.jsx(pe,{children:t.author.username.slice(0,2).toUpperCase()})}),e.jsx("span",{className:`font-medium ${t.featured_image?"text-white":""}`,children:t.author.username})]}),e.jsxs("div",{className:"flex space-x-1",children:[t.github_url&&e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx("a",{href:t.github_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ys,{className:"h-4 w-4"})})}),t.project_url&&e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx("a",{href:t.project_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(gr,{className:"h-4 w-4"})})})]})]}),e.jsx(Ye,{to:`/projects/${t.id}`,children:e.jsx("h3",{className:`text-xl font-bold mt-2 hover:underline ${t.featured_image?"text-white":""}`,children:t.title})})]}),e.jsxs(Bt,{children:[e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:t.description}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-1",children:[(s=t.technologies_used)==null?void 0:s.slice(0,4).map(o=>e.jsx(q,{variant:"secondary",className:"text-xs",children:o.name},o.id)),((r=t.technologies_used)==null?void 0:r.length)>4&&e.jsxs(q,{variant:"secondary",className:"text-xs",children:["+",t.technologies_used.length-4," more"]})]})]}),e.jsxs(zt,{className:"flex justify-between items-center border-t pt-4",children:[e.jsxs("div",{className:"flex -space-x-2",children:[(n=t.contributors)==null?void 0:n.slice(0,3).map(o=>e.jsx(fe,{className:"h-6 w-6 border-2 border-background",children:o.profileImage?e.jsx(Ne,{src:o.profileImage,alt:o.username}):e.jsx(pe,{className:"text-xs",children:o.username.slice(0,2).toUpperCase()})},o.id)),t.contributors&&t.contributors.length>3&&e.jsxs("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs border-2 border-background",children:["+",t.contributors.length-3]})]}),e.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ye,{to:`/projects/${t.id}`,children:"View Project"})})]})]})},un=()=>e.jsxs(Dt,{className:"overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-muted"}),e.jsxs($t,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted"}),e.jsx("div",{className:"h-4 w-24 bg-muted rounded"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-muted"}),e.jsx("div",{className:"h-8 w-8 rounded bg-muted"})]})]}),e.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mt-2"})]}),e.jsxs(Bt,{children:[e.jsx("div",{className:"h-4 w-full bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 w-3/4 bg-muted rounded"}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:[1,2,3].map(t=>e.jsx("div",{className:"h-5 w-16 bg-muted rounded"},t))})]}),e.jsxs(zt,{className:"border-t pt-4",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2].map(t=>e.jsx("div",{className:"h-6 w-6 rounded-full bg-muted"},t))}),e.jsx("div",{className:"ml-auto h-8 w-24 bg-muted rounded"})]})]});function Dn(){const[t,s]=l.useState("forums"),[r,n]=l.useState(!1),o=it(),{data:d,isLoading:c}=ne({queryKey:["blogs"],queryFn:()=>Xe.getBlogs()});l.useEffect(()=>{const m=new IntersectionObserver(u=>{u.forEach(f=>{f.isIntersecting&&f.target.classList.add("animate-fadeIn")})},{threshold:.1});return document.querySelectorAll(".fade-in-element").forEach(u=>{m.observe(u)}),()=>m.disconnect()},[t]);const a=d==null?void 0:d.results[0];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[e.jsx(Zs,{}),e.jsx(Rr,{searchQuery:"",setSearchQuery:function(m){throw new Error("Function not implemented.")}}),e.jsx(Ir,{activeTab:t,onTabChange:s}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Mt,{className:"w-1/2",value:100})}):e.jsxs("div",{className:"relative bg-gradient-to-r from-primary/10 to-background rounded-2xl p-6 mb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full -mr-20 -mt-20"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-primary/10 rounded-full -ml-10 -mb-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center relative z-10",children:[e.jsxs("div",{children:[e.jsx(q,{className:"bg-primary/20 text-primary mb-4 hover:bg-primary/30",children:"Featured"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a==null?void 0:a.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:a!=null&&a.content?a.content.length>100?`${a.content.slice(0,100)}...`:a.content:"No content available"}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsxs(fe,{className:"h-8 w-8 mr-2",children:[e.jsx(Ne,{src:(a==null?void 0:a.author.profileImage)??void 0}),e.jsx(pe,{children:e.jsx(Xs,{className:"h-4 w-4"})})]}),e.jsxs("span",{className:"font-medium mr-2",children:[a==null?void 0:a.author.first_name," ",a==null?void 0:a.author.last_name]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(mt,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:a==null?void 0:a.categories[0].name}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(Oe,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[a==null?void 0:a.views," Views"]})]})]}),e.jsxs(E,{className:"shrink-0",onClick:()=>{o(`/blogs/${a==null?void 0:a.slug}`)},children:["Read Article ",e.jsx(Ft,{className:"ml-2 h-4 w-4"})]})]})]}),t==="forums"&&e.jsx(rn,{}),t==="blogs"&&e.jsx(on,{}),t==="polls"&&e.jsx(ln,{}),t==="projects"&&e.jsx(dn,{})]})]})}export{Dn as default};

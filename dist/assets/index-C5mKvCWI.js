import{c as le,j as e,M as Ae,e as Z,C as As,f as Ms,g as rt,R as ne,h as U,i as Ie,r as l,k as at,l as Os,m as B,n as ge,o as Y,p as Ls,q as Fs,s as nt,t as Ds,v as Bs,w as $s,x as Hs,B as E,D as zs,y as Us,z as Vs,A as Ws,I as ue,X as Ks,E as qs,F as He,u as ot,a as _t,b as Tt,G as Gs,S as It,L as Ge,H as Qs,U as Ys}from"./index-ux5oNEAr.js";import{B as Xs}from"./blob-bg-CxzXjtuo.js";import{u as te,A as me,a as ve,b as he,B as q}from"./avatar-CIvInjWZ.js";import{T as Me,a as Oe,b as ee,c as pt}from"./tabs-BxN1H10p.js";import{P as kt,p as ft}from"./polls.services-B7kcf7WV.js";import{C as Rt}from"./chevron-right-DR1MoxEK.js";import{f as ke}from"./forums.services-Dguo6Qbc.js";import{T as Zs}from"./textarea-CqIIQUnW.js";import{L as Pe}from"./label-hNI74H-p.js";import{u as Js}from"./index-CoRKDfse.js";import{u as er,a as tr,o as sr,s as rr,f as ar,b as nr,c as or,h as lr,l as ir,d as cr,V as dr}from"./index-B6L4a_j7.js";import{C as At}from"./chevron-down-RgS_l78b.js";import{C as ur,a as mr}from"./account.service-C3n-17dp.js";import{C as hr,b as Qe}from"./blogs.service-5oYamVvF.js";import{M as xr,B as Ye}from"./index-DTKnjc4Z.js";import{S as _e,F as Mt}from"./search-CRL-JZJS.js";import{C as Le}from"./clock-BSMIzl9a.js";import{S as Ot,p as gt}from"./projects.service-XCosKkr7.js";import{C as pr}from"./circle-alert-DPA4AuGW.js";import{L as fr}from"./loader-circle-Dfx8oZ5t.js";import{C as Lt,a as Ft,c as Dt,e as Bt}from"./card-CNPuq_RZ.js";import{E as gr}from"./external-link-D7PkYr8u.js";import"./index-D92uPXsy.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],vt=le("chart-no-axes-column",vr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$t=le("chart-pie",br);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fe=le("file-text",jr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wr=le("image",Nr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sr=le("refresh-cw",yr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lt=le("tag",Cr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ht=le("trending-up",Pr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_r=le("upload",Er);function Tr({activeTab:t,onTabChange:s}){return e.jsx("div",{className:"border-b border-border bg-background/95 backdrop-blur sticky top-16 z-30",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(Me,{defaultValue:t,onValueChange:s,className:"w-full",children:e.jsxs(Oe,{className:"h-14 w-full justify-start bg-transparent gap-1 sm:gap-2",children:[e.jsxs(ee,{value:"forums",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(Ae,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Forums"]}),e.jsxs(ee,{value:"blogs",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(Fe,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Blogs"]}),e.jsxs(ee,{value:"polls",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(vt,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Polls"]}),e.jsxs(ee,{value:"projects",className:"flex items-center gap-1 sm:gap-2 data-[state=active]:text-primary data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none px-2 sm:px-4 text-sm sm:text-base",children:[e.jsx(vt,{className:"h-4 w-4 sm:h-4.5 sm:w-4.5"}),"Projects"]})]})})})})}function Ir({searchQuery:t,setSearchQuery:s}){return e.jsx("div",{className:"bg-background/80 backdrop-blur-sm py-6 sticky top-0 z-40 border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3"}),e.jsx("div",{className:"flex items-center gap-3"})]})})})}function it({className:t,...s}){return e.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:Z("mx-auto flex w-full justify-center",t),...s})}function ct({className:t,...s}){return e.jsx("ul",{"data-slot":"pagination-content",className:Z("flex flex-row items-center gap-1",t),...s})}function re({...t}){return e.jsx("li",{"data-slot":"pagination-item",...t})}function zt({className:t,isActive:s,size:r="icon",...n}){return e.jsx("a",{"aria-current":s?"page":void 0,"data-slot":"pagination-link","data-active":s,className:Z(Ms({variant:s?"outline":"ghost",size:r}),t),...n})}function dt({className:t,...s}){return e.jsxs(zt,{"aria-label":"Go to previous page",size:"default",className:Z("gap-1 px-2.5 sm:pl-2.5",t),...s,children:[e.jsx(As,{}),e.jsx("span",{className:"hidden sm:block",children:"Previous"})]})}function ut({className:t,...s}){return e.jsxs(zt,{"aria-label":"Go to next page",size:"default",className:Z("gap-1 px-2.5 sm:pr-2.5",t),...s,children:[e.jsx("span",{className:"hidden sm:block",children:"Next"}),e.jsx(Rt,{})]})}function bt(t,[s,r]){return Math.min(r,Math.max(s,t))}function kr(t){const s=t+"CollectionProvider",[r,n]=rt(s),[o,u]=r(s,{collectionRef:{current:null},itemMap:new Map}),c=i=>{const{scope:g,children:f}=i,d=ne.useRef(null),p=ne.useRef(new Map).current;return e.jsx(o,{scope:g,itemMap:p,collectionRef:d,children:f})};c.displayName=s;const a=t+"CollectionSlot",m=Ie(a),h=ne.forwardRef((i,g)=>{const{scope:f,children:d}=i,p=u(a,f),y=U(g,p.collectionRef);return e.jsx(m,{ref:y,children:d})});h.displayName=a;const x=t+"CollectionItemSlot",j="data-radix-collection-item",w=Ie(x),v=ne.forwardRef((i,g)=>{const{scope:f,children:d,...p}=i,y=ne.useRef(null),k=U(g,y),L=u(x,f);return ne.useEffect(()=>(L.itemMap.set(y,{ref:y,...p}),()=>void L.itemMap.delete(y))),e.jsx(w,{[j]:"",ref:k,children:d})});v.displayName=x;function N(i){const g=u(t+"CollectionConsumer",i);return ne.useCallback(()=>{const d=g.collectionRef.current;if(!d)return[];const p=Array.from(d.querySelectorAll(`[${j}]`));return Array.from(g.itemMap.values()).sort((L,C)=>p.indexOf(L.ref.current)-p.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},N,n]}var Rr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=Rr.reduce((t,s)=>{const r=Ie(`Primitive.${s}`),n=l.forwardRef((o,u)=>{const{asChild:c,...a}=o,m=c?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...a,ref:u})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Ar(t,s){t&&at.flushSync(()=>t.dispatchEvent(s))}var Mr="DismissableLayer",Xe="dismissableLayer.update",Or="dismissableLayer.pointerDownOutside",Lr="dismissableLayer.focusOutside",jt,Ut=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vt=l.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:c,onDismiss:a,...m}=t,h=l.useContext(Ut),[x,j]=l.useState(null),w=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=l.useState({}),N=U(s,C=>j(C)),i=Array.from(h.layers),[g]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),f=i.indexOf(g),d=x?i.indexOf(x):-1,p=h.layersWithOutsidePointerEventsDisabled.size>0,y=d>=f,k=Br(C=>{const S=C.target,_=[...h.branches].some(A=>A.contains(S));!y||_||(o==null||o(C),c==null||c(C),C.defaultPrevented||a==null||a())},w),L=$r(C=>{const S=C.target;[...h.branches].some(A=>A.contains(S))||(u==null||u(C),c==null||c(C),C.defaultPrevented||a==null||a())},w);return Os(C=>{d===h.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},w),l.useEffect(()=>{if(x)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(jt=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),Nt(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=jt)}},[x,w,r,h]),l.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),Nt())},[x,h]),l.useEffect(()=>{const C=()=>v({});return document.addEventListener(Xe,C),()=>document.removeEventListener(Xe,C)},[]),e.jsx($.div,{...m,ref:N,style:{pointerEvents:p?y?"auto":"none":void 0,...t.style},onFocusCapture:B(t.onFocusCapture,L.onFocusCapture),onBlurCapture:B(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:B(t.onPointerDownCapture,k.onPointerDownCapture)})});Vt.displayName=Mr;var Fr="DismissableLayerBranch",Dr=l.forwardRef((t,s)=>{const r=l.useContext(Ut),n=l.useRef(null),o=U(s,n);return l.useEffect(()=>{const u=n.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),e.jsx($.div,{...t,ref:o})});Dr.displayName=Fr;function Br(t,s=globalThis==null?void 0:globalThis.document){const r=ge(t),n=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const u=a=>{if(a.target&&!n.current){let m=function(){Wt(Or,r,h,{discrete:!0})};const h={originalEvent:a};a.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=m,s.addEventListener("click",o.current,{once:!0})):m()}else s.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",u),s.removeEventListener("click",o.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function $r(t,s=globalThis==null?void 0:globalThis.document){const r=ge(t),n=l.useRef(!1);return l.useEffect(()=>{const o=u=>{u.target&&!n.current&&Wt(Lr,r,{originalEvent:u},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Nt(){const t=new CustomEvent(Xe);document.dispatchEvent(t)}function Wt(t,s,r,{discrete:n}){const o=r.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&o.addEventListener(t,s,{once:!0}),n?Ar(o,u):o.dispatchEvent(u)}var ze="focusScope.autoFocusOnMount",Ue="focusScope.autoFocusOnUnmount",wt={bubbles:!1,cancelable:!0},Hr="FocusScope",Kt=l.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...c}=t,[a,m]=l.useState(null),h=ge(o),x=ge(u),j=l.useRef(null),w=U(s,i=>m(i)),v=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let i=function(p){if(v.paused||!a)return;const y=p.target;a.contains(y)?j.current=y:oe(j.current,{select:!0})},g=function(p){if(v.paused||!a)return;const y=p.relatedTarget;y!==null&&(a.contains(y)||oe(j.current,{select:!0}))},f=function(p){if(document.activeElement===document.body)for(const k of p)k.removedNodes.length>0&&oe(a)};document.addEventListener("focusin",i),document.addEventListener("focusout",g);const d=new MutationObserver(f);return a&&d.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",g),d.disconnect()}}},[n,a,v.paused]),l.useEffect(()=>{if(a){St.add(v);const i=document.activeElement;if(!a.contains(i)){const f=new CustomEvent(ze,wt);a.addEventListener(ze,h),a.dispatchEvent(f),f.defaultPrevented||(zr(qr(qt(a)),{select:!0}),document.activeElement===i&&oe(a))}return()=>{a.removeEventListener(ze,h),setTimeout(()=>{const f=new CustomEvent(Ue,wt);a.addEventListener(Ue,x),a.dispatchEvent(f),f.defaultPrevented||oe(i??document.body,{select:!0}),a.removeEventListener(Ue,x),St.remove(v)},0)}}},[a,h,x,v]);const N=l.useCallback(i=>{if(!r&&!n||v.paused)return;const g=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,f=document.activeElement;if(g&&f){const d=i.currentTarget,[p,y]=Ur(d);p&&y?!i.shiftKey&&f===y?(i.preventDefault(),r&&oe(p,{select:!0})):i.shiftKey&&f===p&&(i.preventDefault(),r&&oe(y,{select:!0})):f===d&&i.preventDefault()}},[r,n,v.paused]);return e.jsx($.div,{tabIndex:-1,...c,ref:w,onKeyDown:N})});Kt.displayName=Hr;function zr(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(oe(n,{select:s}),document.activeElement!==r)return}function Ur(t){const s=qt(t),r=yt(s,t),n=yt(s.reverse(),t);return[r,n]}function qt(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function yt(t,s){for(const r of t)if(!Vr(r,{upTo:s}))return r}function Vr(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Wr(t){return t instanceof HTMLInputElement&&"select"in t}function oe(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Wr(t)&&s&&t.select()}}var St=Kr();function Kr(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Ct(t,s),t.unshift(s)},remove(s){var r;t=Ct(t,s),(r=t[0])==null||r.resume()}}}function Ct(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function qr(t){return t.filter(s=>s.tagName!=="A")}var Gr="Arrow",Gt=l.forwardRef((t,s)=>{const{children:r,width:n=10,height:o=5,...u}=t;return e.jsx($.svg,{...u,ref:s,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Gt.displayName=Gr;var Qr=Gt,mt="Popper",[Qt,Yt]=rt(mt),[Yr,Xt]=Qt(mt),Zt=t=>{const{__scopePopper:s,children:r}=t,[n,o]=l.useState(null);return e.jsx(Yr,{scope:s,anchor:n,onAnchorChange:o,children:r})};Zt.displayName=mt;var Jt="PopperAnchor",es=l.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...o}=t,u=Xt(Jt,r),c=l.useRef(null),a=U(s,c);return l.useEffect(()=>{u.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:e.jsx($.div,{...o,ref:a})});es.displayName=Jt;var ht="PopperContent",[Xr,Zr]=Qt(ht),ts=l.forwardRef((t,s)=>{var P,O,W,M,T,I;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:u="center",alignOffset:c=0,arrowPadding:a=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:j="partial",hideWhenDetached:w=!1,updatePositionStrategy:v="optimized",onPlaced:N,...i}=t,g=Xt(ht,r),[f,d]=l.useState(null),p=U(s,Q=>d(Q)),[y,k]=l.useState(null),L=er(y),C=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,_=n+(u!=="center"?"-"+u:""),A=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},D=Array.isArray(h)?h:[h],V=D.length>0,H={padding:A,boundary:D.filter(ea),altBoundary:V},{refs:G,floatingStyles:K,placement:z,isPositioned:b,middlewareData:R}=tr({strategy:"fixed",placement:_,whileElementsMounted:(...Q)=>cr(...Q,{animationFrame:v==="always"}),elements:{reference:g.anchor},middleware:[sr({mainAxis:o+S,alignmentAxis:c}),m&&rr({mainAxis:!0,crossAxis:!1,limiter:j==="partial"?ir():void 0,...H}),m&&ar({...H}),nr({...H,apply:({elements:Q,rects:J,availableWidth:ye,availableHeight:Se})=>{const{width:Ce,height:Rs}=J.reference,Te=Q.floating.style;Te.setProperty("--radix-popper-available-width",`${ye}px`),Te.setProperty("--radix-popper-available-height",`${Se}px`),Te.setProperty("--radix-popper-anchor-width",`${Ce}px`),Te.setProperty("--radix-popper-anchor-height",`${Rs}px`)}}),y&&or({element:y,padding:a}),ta({arrowWidth:C,arrowHeight:S}),w&&lr({strategy:"referenceHidden",...H})]}),[F,je]=as(z),se=ge(N);Y(()=>{b&&(se==null||se())},[b,se]);const Ne=(P=R.arrow)==null?void 0:P.x,we=(O=R.arrow)==null?void 0:O.y,ae=((W=R.arrow)==null?void 0:W.centerOffset)!==0,[fe,de]=l.useState();return Y(()=>{f&&de(window.getComputedStyle(f).zIndex)},[f]),e.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:b?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(M=R.transformOrigin)==null?void 0:M.x,(T=R.transformOrigin)==null?void 0:T.y].join(" "),...((I=R.hide)==null?void 0:I.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Xr,{scope:r,placedSide:F,onArrowChange:k,arrowX:Ne,arrowY:we,shouldHideArrow:ae,children:e.jsx($.div,{"data-side":F,"data-align":je,...i,ref:p,style:{...i.style,animation:b?void 0:"none"}})})})});ts.displayName=ht;var ss="PopperArrow",Jr={top:"bottom",right:"left",bottom:"top",left:"right"},rs=l.forwardRef(function(s,r){const{__scopePopper:n,...o}=s,u=Zr(ss,n),c=Jr[u.placedSide];return e.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:e.jsx(Qr,{...o,ref:r,style:{...o.style,display:"block"}})})});rs.displayName=ss;function ea(t){return t!==null}var ta=t=>({name:"transformOrigin",options:t,fn(s){var g,f,d;const{placement:r,rects:n,middlewareData:o}=s,c=((g=o.arrow)==null?void 0:g.centerOffset)!==0,a=c?0:t.arrowWidth,m=c?0:t.arrowHeight,[h,x]=as(r),j={start:"0%",center:"50%",end:"100%"}[x],w=(((f=o.arrow)==null?void 0:f.x)??0)+a/2,v=(((d=o.arrow)==null?void 0:d.y)??0)+m/2;let N="",i="";return h==="bottom"?(N=c?j:`${w}px`,i=`${-m}px`):h==="top"?(N=c?j:`${w}px`,i=`${n.floating.height+m}px`):h==="right"?(N=`${-m}px`,i=c?j:`${v}px`):h==="left"&&(N=`${n.floating.width+m}px`,i=c?j:`${v}px`),{data:{x:N,y:i}}}});function as(t){const[s,r="center"]=t.split("-");return[s,r]}var sa=Zt,ra=es,aa=ts,na=rs,oa="Portal",ns=l.forwardRef((t,s)=>{var a;const{container:r,...n}=t,[o,u]=l.useState(!1);Y(()=>u(!0),[]);const c=r||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return c?Ls.createPortal(e.jsx($.div,{...n,ref:s}),c):null});ns.displayName=oa;var la=Fs[" useInsertionEffect ".trim().toString()]||Y;function Pt({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[o,u,c]=ia({defaultProp:s,onChange:r}),a=t!==void 0,m=a?t:o;{const x=l.useRef(t!==void 0);l.useEffect(()=>{const j=x.current;j!==a&&console.warn(`${n} is changing from ${j?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=a},[a,n])}const h=l.useCallback(x=>{var j;if(a){const w=ca(x)?x(t):x;w!==t&&((j=c.current)==null||j.call(c,w))}else u(x)},[a,t,u,c]);return[m,h]}function ia({defaultProp:t,onChange:s}){const[r,n]=l.useState(t),o=l.useRef(r),u=l.useRef(s);return la(()=>{u.current=s},[s]),l.useEffect(()=>{var c;o.current!==r&&((c=u.current)==null||c.call(u,r),o.current=r)},[r,o]),[r,n,u]}function ca(t){return typeof t=="function"}function da(t){const s=l.useRef({value:t,previous:t});return l.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var ua=[" ","Enter","ArrowUp","ArrowDown"],ma=[" ","Enter"],xe="Select",[De,Be,ha]=kr(xe),[be,An]=rt(xe,[ha,Yt]),$e=Yt(),[xa,ie]=be(xe),[pa,fa]=be(xe),os=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:o,onOpenChange:u,value:c,defaultValue:a,onValueChange:m,dir:h,name:x,autoComplete:j,disabled:w,required:v,form:N}=t,i=$e(s),[g,f]=l.useState(null),[d,p]=l.useState(null),[y,k]=l.useState(!1),L=Js(h),[C,S]=Pt({prop:n,defaultProp:o??!1,onChange:u,caller:xe}),[_,A]=Pt({prop:c,defaultProp:a,onChange:m,caller:xe}),D=l.useRef(null),V=g?N||!!g.closest("form"):!0,[H,G]=l.useState(new Set),K=Array.from(H).map(z=>z.props.value).join(";");return e.jsx(sa,{...i,children:e.jsxs(xa,{required:v,scope:s,trigger:g,onTriggerChange:f,valueNode:d,onValueNodeChange:p,valueNodeHasChildren:y,onValueNodeHasChildrenChange:k,contentId:nt(),value:_,onValueChange:A,open:C,onOpenChange:S,dir:L,triggerPointerDownPosRef:D,disabled:w,children:[e.jsx(De.Provider,{scope:s,children:e.jsx(pa,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(z=>{G(b=>new Set(b).add(z))},[]),onNativeOptionRemove:l.useCallback(z=>{G(b=>{const R=new Set(b);return R.delete(z),R})},[]),children:r})}),V?e.jsxs(_s,{"aria-hidden":!0,required:v,tabIndex:-1,name:x,autoComplete:j,value:_,onChange:z=>A(z.target.value),disabled:w,form:N,children:[_===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},K):null]})})};os.displayName=xe;var ls="SelectTrigger",is=l.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...o}=t,u=$e(r),c=ie(ls,r),a=c.disabled||n,m=U(s,c.onTriggerChange),h=Be(r),x=l.useRef("touch"),[j,w,v]=Is(i=>{const g=h().filter(p=>!p.disabled),f=g.find(p=>p.value===c.value),d=ks(g,i,f);d!==void 0&&c.onValueChange(d.value)}),N=i=>{a||(c.onOpenChange(!0),v()),i&&(c.triggerPointerDownPosRef.current={x:Math.round(i.pageX),y:Math.round(i.pageY)})};return e.jsx(ra,{asChild:!0,...u,children:e.jsx($.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Ts(c.value)?"":void 0,...o,ref:m,onClick:B(o.onClick,i=>{i.currentTarget.focus(),x.current!=="mouse"&&N(i)}),onPointerDown:B(o.onPointerDown,i=>{x.current=i.pointerType;const g=i.target;g.hasPointerCapture(i.pointerId)&&g.releasePointerCapture(i.pointerId),i.button===0&&i.ctrlKey===!1&&i.pointerType==="mouse"&&(N(i),i.preventDefault())}),onKeyDown:B(o.onKeyDown,i=>{const g=j.current!=="";!(i.ctrlKey||i.altKey||i.metaKey)&&i.key.length===1&&w(i.key),!(g&&i.key===" ")&&ua.includes(i.key)&&(N(),i.preventDefault())})})})});is.displayName=ls;var cs="SelectValue",ds=l.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:o,children:u,placeholder:c="",...a}=t,m=ie(cs,r),{onValueNodeHasChildrenChange:h}=m,x=u!==void 0,j=U(s,m.onValueNodeChange);return Y(()=>{h(x)},[h,x]),e.jsx($.span,{...a,ref:j,style:{pointerEvents:"none"},children:Ts(m.value)?e.jsx(e.Fragment,{children:c}):u})});ds.displayName=cs;var ga="SelectIcon",us=l.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...o}=t;return e.jsx($.span,{"aria-hidden":!0,...o,ref:s,children:n||"▼"})});us.displayName=ga;var va="SelectPortal",ms=t=>e.jsx(ns,{asChild:!0,...t});ms.displayName=va;var pe="SelectContent",hs=l.forwardRef((t,s)=>{const r=ie(pe,t.__scopeSelect),[n,o]=l.useState();if(Y(()=>{o(new DocumentFragment)},[]),!r.open){const u=n;return u?at.createPortal(e.jsx(xs,{scope:t.__scopeSelect,children:e.jsx(De.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),u):null}return e.jsx(ps,{...t,ref:s})});hs.displayName=pe;var X=10,[xs,ce]=be(pe),ba="SelectContentImpl",ja=Ie("SelectContent.RemoveScroll"),ps=l.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:u,onPointerDownOutside:c,side:a,sideOffset:m,align:h,alignOffset:x,arrowPadding:j,collisionBoundary:w,collisionPadding:v,sticky:N,hideWhenDetached:i,avoidCollisions:g,...f}=t,d=ie(pe,r),[p,y]=l.useState(null),[k,L]=l.useState(null),C=U(s,P=>y(P)),[S,_]=l.useState(null),[A,D]=l.useState(null),V=Be(r),[H,G]=l.useState(!1),K=l.useRef(!1);l.useEffect(()=>{if(p)return Ds(p)},[p]),Bs();const z=l.useCallback(P=>{const[O,...W]=V().map(I=>I.ref.current),[M]=W.slice(-1),T=document.activeElement;for(const I of P)if(I===T||(I==null||I.scrollIntoView({block:"nearest"}),I===O&&k&&(k.scrollTop=0),I===M&&k&&(k.scrollTop=k.scrollHeight),I==null||I.focus(),document.activeElement!==T))return},[V,k]),b=l.useCallback(()=>z([S,p]),[z,S,p]);l.useEffect(()=>{H&&b()},[H,b]);const{onOpenChange:R,triggerPointerDownPosRef:F}=d;l.useEffect(()=>{if(p){let P={x:0,y:0};const O=M=>{var T,I;P={x:Math.abs(Math.round(M.pageX)-(((T=F.current)==null?void 0:T.x)??0)),y:Math.abs(Math.round(M.pageY)-(((I=F.current)==null?void 0:I.y)??0))}},W=M=>{P.x<=10&&P.y<=10?M.preventDefault():p.contains(M.target)||R(!1),document.removeEventListener("pointermove",O),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",W,{capture:!0})}}},[p,R,F]),l.useEffect(()=>{const P=()=>R(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[R]);const[je,se]=Is(P=>{const O=V().filter(T=>!T.disabled),W=O.find(T=>T.ref.current===document.activeElement),M=ks(O,P,W);M&&setTimeout(()=>M.ref.current.focus())}),Ne=l.useCallback((P,O,W)=>{const M=!K.current&&!W;(d.value!==void 0&&d.value===O||M)&&(_(P),M&&(K.current=!0))},[d.value]),we=l.useCallback(()=>p==null?void 0:p.focus(),[p]),ae=l.useCallback((P,O,W)=>{const M=!K.current&&!W;(d.value!==void 0&&d.value===O||M)&&D(P)},[d.value]),fe=n==="popper"?Ze:fs,de=fe===Ze?{side:a,sideOffset:m,align:h,alignOffset:x,arrowPadding:j,collisionBoundary:w,collisionPadding:v,sticky:N,hideWhenDetached:i,avoidCollisions:g}:{};return e.jsx(xs,{scope:r,content:p,viewport:k,onViewportChange:L,itemRefCallback:Ne,selectedItem:S,onItemLeave:we,itemTextRefCallback:ae,focusSelectedItem:b,selectedItemText:A,position:n,isPositioned:H,searchRef:je,children:e.jsx($s,{as:ja,allowPinchZoom:!0,children:e.jsx(Kt,{asChild:!0,trapped:d.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:B(o,P=>{var O;(O=d.trigger)==null||O.focus({preventScroll:!0}),P.preventDefault()}),children:e.jsx(Vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>d.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:d.contentId,"data-state":d.open?"open":"closed",dir:d.dir,onContextMenu:P=>P.preventDefault(),...f,...de,onPlaced:()=>G(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:B(f.onKeyDown,P=>{const O=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!O&&P.key.length===1&&se(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let M=V().filter(T=>!T.disabled).map(T=>T.ref.current);if(["ArrowUp","End"].includes(P.key)&&(M=M.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const T=P.target,I=M.indexOf(T);M=M.slice(I+1)}setTimeout(()=>z(M)),P.preventDefault()}})})})})})})});ps.displayName=ba;var Na="SelectItemAlignedPosition",fs=l.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...o}=t,u=ie(pe,r),c=ce(pe,r),[a,m]=l.useState(null),[h,x]=l.useState(null),j=U(s,C=>x(C)),w=Be(r),v=l.useRef(!1),N=l.useRef(!0),{viewport:i,selectedItem:g,selectedItemText:f,focusSelectedItem:d}=c,p=l.useCallback(()=>{if(u.trigger&&u.valueNode&&a&&h&&i&&g&&f){const C=u.trigger.getBoundingClientRect(),S=h.getBoundingClientRect(),_=u.valueNode.getBoundingClientRect(),A=f.getBoundingClientRect();if(u.dir!=="rtl"){const T=A.left-S.left,I=_.left-T,Q=C.left-I,J=C.width+Q,ye=Math.max(J,S.width),Se=window.innerWidth-X,Ce=bt(I,[X,Math.max(X,Se-ye)]);a.style.minWidth=J+"px",a.style.left=Ce+"px"}else{const T=S.right-A.right,I=window.innerWidth-_.right-T,Q=window.innerWidth-C.right-I,J=C.width+Q,ye=Math.max(J,S.width),Se=window.innerWidth-X,Ce=bt(I,[X,Math.max(X,Se-ye)]);a.style.minWidth=J+"px",a.style.right=Ce+"px"}const D=w(),V=window.innerHeight-X*2,H=i.scrollHeight,G=window.getComputedStyle(h),K=parseInt(G.borderTopWidth,10),z=parseInt(G.paddingTop,10),b=parseInt(G.borderBottomWidth,10),R=parseInt(G.paddingBottom,10),F=K+z+H+R+b,je=Math.min(g.offsetHeight*5,F),se=window.getComputedStyle(i),Ne=parseInt(se.paddingTop,10),we=parseInt(se.paddingBottom,10),ae=C.top+C.height/2-X,fe=V-ae,de=g.offsetHeight/2,P=g.offsetTop+de,O=K+z+P,W=F-O;if(O<=ae){const T=D.length>0&&g===D[D.length-1].ref.current;a.style.bottom="0px";const I=h.clientHeight-i.offsetTop-i.offsetHeight,Q=Math.max(fe,de+(T?we:0)+I+b),J=O+Q;a.style.height=J+"px"}else{const T=D.length>0&&g===D[0].ref.current;a.style.top="0px";const Q=Math.max(ae,K+i.offsetTop+(T?Ne:0)+de)+W;a.style.height=Q+"px",i.scrollTop=O-ae+i.offsetTop}a.style.margin=`${X}px 0`,a.style.minHeight=je+"px",a.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[w,u.trigger,u.valueNode,a,h,i,g,f,u.dir,n]);Y(()=>p(),[p]);const[y,k]=l.useState();Y(()=>{h&&k(window.getComputedStyle(h).zIndex)},[h]);const L=l.useCallback(C=>{C&&N.current===!0&&(p(),d==null||d(),N.current=!1)},[p,d]);return e.jsx(ya,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:e.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:e.jsx($.div,{...o,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});fs.displayName=Na;var wa="SelectPopperPosition",Ze=l.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=X,...u}=t,c=$e(r);return e.jsx(aa,{...c,...u,ref:s,align:n,collisionPadding:o,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ze.displayName=wa;var[ya,xt]=be(pe,{}),Je="SelectViewport",gs=l.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...o}=t,u=ce(Je,r),c=xt(Je,r),a=U(s,u.onViewportChange),m=l.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(De.Slot,{scope:r,children:e.jsx($.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:B(o.onScroll,h=>{const x=h.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:w}=c;if(w!=null&&w.current&&j){const v=Math.abs(m.current-x.scrollTop);if(v>0){const N=window.innerHeight-X*2,i=parseFloat(j.style.minHeight),g=parseFloat(j.style.height),f=Math.max(i,g);if(f<N){const d=f+v,p=Math.min(N,d),y=d-p;j.style.height=p+"px",j.style.bottom==="0px"&&(x.scrollTop=y>0?y:0,j.style.justifyContent="flex-end")}}}m.current=x.scrollTop})})})]})});gs.displayName=Je;var vs="SelectGroup",[Sa,Ca]=be(vs),Pa=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=nt();return e.jsx(Sa,{scope:r,id:o,children:e.jsx($.div,{role:"group","aria-labelledby":o,...n,ref:s})})});Pa.displayName=vs;var bs="SelectLabel",Ea=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=Ca(bs,r);return e.jsx($.div,{id:o.id,...n,ref:s})});Ea.displayName=bs;var Re="SelectItem",[_a,js]=be(Re),Ns=l.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:u,...c}=t,a=ie(Re,r),m=ce(Re,r),h=a.value===n,[x,j]=l.useState(u??""),[w,v]=l.useState(!1),N=U(s,d=>{var p;return(p=m.itemRefCallback)==null?void 0:p.call(m,d,n,o)}),i=nt(),g=l.useRef("touch"),f=()=>{o||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(_a,{scope:r,value:n,disabled:o,textId:i,isSelected:h,onItemTextChange:l.useCallback(d=>{j(p=>p||((d==null?void 0:d.textContent)??"").trim())},[]),children:e.jsx(De.ItemSlot,{scope:r,value:n,disabled:o,textValue:x,children:e.jsx($.div,{role:"option","aria-labelledby":i,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:N,onFocus:B(c.onFocus,()=>v(!0)),onBlur:B(c.onBlur,()=>v(!1)),onClick:B(c.onClick,()=>{g.current!=="mouse"&&f()}),onPointerUp:B(c.onPointerUp,()=>{g.current==="mouse"&&f()}),onPointerDown:B(c.onPointerDown,d=>{g.current=d.pointerType}),onPointerMove:B(c.onPointerMove,d=>{var p;g.current=d.pointerType,o?(p=m.onItemLeave)==null||p.call(m):g.current==="mouse"&&d.currentTarget.focus({preventScroll:!0})}),onPointerLeave:B(c.onPointerLeave,d=>{var p;d.currentTarget===document.activeElement&&((p=m.onItemLeave)==null||p.call(m))}),onKeyDown:B(c.onKeyDown,d=>{var y;((y=m.searchRef)==null?void 0:y.current)!==""&&d.key===" "||(ma.includes(d.key)&&f(),d.key===" "&&d.preventDefault())})})})})});Ns.displayName=Re;var Ee="SelectItemText",ws=l.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:o,...u}=t,c=ie(Ee,r),a=ce(Ee,r),m=js(Ee,r),h=fa(Ee,r),[x,j]=l.useState(null),w=U(s,f=>j(f),m.onItemTextChange,f=>{var d;return(d=a.itemTextRefCallback)==null?void 0:d.call(a,f,m.value,m.disabled)}),v=x==null?void 0:x.textContent,N=l.useMemo(()=>e.jsx("option",{value:m.value,disabled:m.disabled,children:v},m.value),[m.disabled,m.value,v]),{onNativeOptionAdd:i,onNativeOptionRemove:g}=h;return Y(()=>(i(N),()=>g(N)),[i,g,N]),e.jsxs(e.Fragment,{children:[e.jsx($.span,{id:m.textId,...u,ref:w}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?at.createPortal(u.children,c.valueNode):null]})});ws.displayName=Ee;var ys="SelectItemIndicator",Ss=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return js(ys,r).isSelected?e.jsx($.span,{"aria-hidden":!0,...n,ref:s}):null});Ss.displayName=ys;var et="SelectScrollUpButton",Cs=l.forwardRef((t,s)=>{const r=ce(et,t.__scopeSelect),n=xt(et,t.__scopeSelect),[o,u]=l.useState(!1),c=U(s,n.onScrollButtonChange);return Y(()=>{if(r.viewport&&r.isPositioned){let a=function(){const h=m.scrollTop>0;u(h)};const m=r.viewport;return a(),m.addEventListener("scroll",a),()=>m.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?e.jsx(Es,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:m}=r;a&&m&&(a.scrollTop=a.scrollTop-m.offsetHeight)}}):null});Cs.displayName=et;var tt="SelectScrollDownButton",Ps=l.forwardRef((t,s)=>{const r=ce(tt,t.__scopeSelect),n=xt(tt,t.__scopeSelect),[o,u]=l.useState(!1),c=U(s,n.onScrollButtonChange);return Y(()=>{if(r.viewport&&r.isPositioned){let a=function(){const h=m.scrollHeight-m.clientHeight,x=Math.ceil(m.scrollTop)<h;u(x)};const m=r.viewport;return a(),m.addEventListener("scroll",a),()=>m.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),o?e.jsx(Es,{...t,ref:c,onAutoScroll:()=>{const{viewport:a,selectedItem:m}=r;a&&m&&(a.scrollTop=a.scrollTop+m.offsetHeight)}}):null});Ps.displayName=tt;var Es=l.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=t,u=ce("SelectScrollButton",r),c=l.useRef(null),a=Be(r),m=l.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return l.useEffect(()=>()=>m(),[m]),Y(()=>{var x;const h=a().find(j=>j.ref.current===document.activeElement);(x=h==null?void 0:h.ref.current)==null||x.scrollIntoView({block:"nearest"})},[a]),e.jsx($.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:B(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:B(o.onPointerMove,()=>{var h;(h=u.onItemLeave)==null||h.call(u),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:B(o.onPointerLeave,()=>{m()})})}),Ta="SelectSeparator",Ia=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx($.div,{"aria-hidden":!0,...n,ref:s})});Ia.displayName=Ta;var st="SelectArrow",ka=l.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,o=$e(r),u=ie(st,r),c=ce(st,r);return u.open&&c.position==="popper"?e.jsx(na,{...o,...n,ref:s}):null});ka.displayName=st;var Ra="SelectBubbleInput",_s=l.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const o=l.useRef(null),u=U(n,o),c=da(s);return l.useEffect(()=>{const a=o.current;if(!a)return;const m=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==s&&x){const j=new Event("change",{bubbles:!0});x.call(a,s),a.dispatchEvent(j)}},[c,s]),e.jsx($.select,{...r,style:{...dr,...r.style},ref:u,defaultValue:s})});_s.displayName=Ra;function Ts(t){return t===""||t===void 0}function Is(t){const s=ge(t),r=l.useRef(""),n=l.useRef(0),o=l.useCallback(c=>{const a=r.current+c;s(a),function m(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>m(""),1e3))}(a)},[s]),u=l.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,u]}function ks(t,s,r){const o=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,u=r?t.indexOf(r):-1;let c=Aa(t,Math.max(u,0));o.length===1&&(c=c.filter(h=>h!==r));const m=c.find(h=>h.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==r?m:void 0}function Aa(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var Ma=os,Oa=is,La=ds,Fa=us,Da=ms,Ba=hs,$a=gs,Ha=Ns,za=ws,Ua=Ss,Va=Cs,Wa=Ps;function Ka({...t}){return e.jsx(Ma,{"data-slot":"select",...t})}function qa({...t}){return e.jsx(La,{"data-slot":"select-value",...t})}function Ga({className:t,size:s="default",children:r,...n}){return e.jsxs(Oa,{"data-slot":"select-trigger","data-size":s,className:Z("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,e.jsx(Fa,{asChild:!0,children:e.jsx(At,{className:"size-4 opacity-50"})})]})}function Qa({className:t,children:s,position:r="popper",...n}){return e.jsx(Da,{children:e.jsxs(Ba,{"data-slot":"select-content",className:Z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(Xa,{}),e.jsx($a,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Za,{})]})})}function Ya({className:t,children:s,...r}){return e.jsxs(Ha,{"data-slot":"select-item",className:Z("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ua,{children:e.jsx(ur,{className:"size-4"})})}),e.jsx(za,{children:s})]})}function Xa({className:t,...s}){return e.jsx(Va,{"data-slot":"select-scroll-up-button",className:Z("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(hr,{className:"size-4"})})}function Za({className:t,...s}){return e.jsx(Wa,{"data-slot":"select-scroll-down-button",className:Z("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(At,{className:"size-4"})})}function Ja(){var C;const[t,s]=l.useState(!1),[r,n]=l.useState("write"),[o,u]=l.useState(""),[c,a]=l.useState(""),[m,h]=l.useState(""),[x,j]=l.useState(""),[w,v]=l.useState(null),[N,i]=l.useState(null),{data:g,isLoading:f}=te({queryKey:["categories"],queryFn:()=>mr.getTechCategories()}),d=Hs({mutationFn:async S=>{const _=new FormData;return _.append("title",S.title),_.append("description",S.description),_.append("category",S.category),S.tags.forEach(D=>_.append("tags",D)),S.featured_image&&_.append("featured_image",S.featured_image),(await ke.createForums(_)).data},onSuccess:()=>{He.success("Post created successfully!"),s(!1),k()},onError:S=>{He.error("Failed to create post"),console.error("Error creating post:",S)}}),p=S=>{var A;const _=(A=S.target.files)==null?void 0:A[0];if(_){v(_);const D=new FileReader;D.onload=V=>{var H;i((H=V.target)==null?void 0:H.result)},D.readAsDataURL(_)}},y=()=>{v(null),i(null)},k=()=>{u(""),a(""),h(""),j(""),v(null),i(null)},L=()=>{if(!o||!c||!m){He.error("Please fill all required fields");return}const S=x.split(",").map(_=>_.trim()).filter(_=>_);d.mutate({title:o,description:c,category:m,tags:S,featured_image:w})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{onClick:()=>s(!0),children:"Create Forum Post"}),e.jsx(zs,{open:t,onOpenChange:S=>{S||k(),s(S)},children:e.jsxs(Us,{className:"max-w-7xl p-0 overflow-scroll-y",children:[e.jsx(Vs,{className:"p-6 pb-2",children:e.jsx(Ws,{className:"text-xl font-bold",children:"Create New Forum Post"})}),e.jsx("div",{className:"p-6 pt-2",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Pe,{htmlFor:"title",className:"text-sm font-medium",children:"Title *"}),e.jsx(ue,{id:"title",placeholder:"Enter forum post title",value:o,onChange:S=>u(S.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Pe,{htmlFor:"category",className:"text-sm font-medium",children:"Category *"}),e.jsxs(Ka,{value:m,onValueChange:h,disabled:f,children:[e.jsx(Ga,{id:"category",className:"mt-1",children:e.jsx(qa,{placeholder:f?"Loading...":"Select category"})}),e.jsx(Qa,{children:(C=g==null?void 0:g.results)==null?void 0:C.map(S=>e.jsx(Ya,{value:S.id.toString(),children:S.name},S.id))})]})]}),e.jsxs("div",{children:[e.jsx(Pe,{htmlFor:"tags",className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(lt,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx(ue,{id:"tags",placeholder:"Tags separated by commas",value:x,onChange:S=>j(S.target.value)})]})]})]}),e.jsxs("div",{children:[e.jsx(Pe,{className:"text-sm font-medium mb-2 block",children:"Featured Image"}),N?e.jsxs("div",{className:"relative rounded-lg overflow-hidden border",children:[e.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover"}),e.jsx(E,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full",onClick:y,children:e.jsx(Ks,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-primary/5 transition-colors",children:[e.jsx("input",{type:"file",id:"featured-image",accept:"image/*",className:"hidden",onChange:p}),e.jsxs("label",{htmlFor:"featured-image",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(_r,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Click to upload featured image"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG, GIF up to 5MB"})]})]})]}),e.jsxs("div",{children:[e.jsx(Pe,{htmlFor:"content",className:"text-sm font-medium mb-2 block",children:"Content *"}),e.jsxs(Me,{value:r,onValueChange:n,className:"w-full",children:[e.jsxs(Oe,{className:"grid grid-cols-2",children:[e.jsxs(ee,{value:"write",className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"})," Write"]}),e.jsxs(ee,{value:"preview",className:"flex items-center gap-2",children:[e.jsx(wr,{className:"h-4 w-4"})," Preview"]})]}),e.jsx(pt,{value:"write",className:"mt-2",children:e.jsx(Zs,{id:"content",placeholder:"Use Markdown to format your comment",value:c,rows:10,onChange:S=>a(S.target.value),className:"min-h-[200px] max-h-[400px] overflow-y-auto",autoFocus:!0})}),e.jsx(pt,{value:"preview",className:"border rounded-md p-4 min-h-[200px] max-h-[400px] overflow-y-auto mt-2",children:c?e.jsx("div",{className:"prose max-w-none h-full overflow-auto",children:e.jsx(xr,{children:c})}):e.jsx("p",{className:"text-muted-foreground text-center italic py-8",children:"Preview will appear here"})})]})]})]})}),e.jsx(qs,{className:"p-6 pt-2 border-t bg-muted/30",children:e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(E,{variant:"outline",onClick:()=>{k(),s(!1)},disabled:d.isPending,children:"Cancel"}),e.jsx(E,{onClick:L,disabled:d.isPending||!o||!c||!m,children:d.isPending?"Creating...":"Create Post"})]})})]})})]})}const Et=({title:t,children:s})=>e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:t}),e.jsx("div",{className:"space-y-2",children:s})]}),en=({icon:t,label:s,count:r,active:n,onClick:o})=>e.jsxs(E,{variant:n?"default":"ghost",className:`w-full justify-between text-sm font-normal px-2 py-1.5 h-auto ${n?"":"hover:bg-primary/5"}`,onClick:o,children:[e.jsxs("div",{className:"flex items-center",children:[t,e.jsx("span",{className:"truncate",children:s})]}),e.jsx(q,{variant:n?"default":"outline",className:"ml-2",children:r})]}),tn=()=>{var H,G,K,z;const t=ot(),[s,r]=l.useState(""),[n,o]=l.useState(""),[u,c]=l.useState("popular"),[a,m]=l.useState(1),[h,x]=l.useState(),{isAuthenticated:j}=_t(),w=Tt(),[v,N]=l.useState(!1);ne.useEffect(()=>{const b=setTimeout(()=>{o(s),m(1)},300);return()=>{clearTimeout(b)}},[s]);const{data:i,isLoading:g,error:f,refetch:d}=te({queryKey:["forums",a,u,n,h],queryFn:()=>ke.getForums({search:n,page:a,size:10})}),{data:p,isLoading:y}=te({queryKey:["categories"],queryFn:()=>ke.getForumCategories()}),k=b=>{r(b.target.value)},L=b=>{x(b===h?void 0:b),m(1),N(!1)},C=b=>{c(b),m(1)},S=b=>{m(b),window.scrollTo({top:0,behavior:"smooth"})},_=b=>{t(`/forum/${b}`)},A=i!=null&&i.count?Math.ceil(i.count/10):0,D=b=>{if(!b)return"";const R=b.split(" ");return R.length>=2?`${R[0][0]}${R[1][0]}`.toUpperCase():b.substring(0,2).toUpperCase()},V=b=>{if(!b)return"";const R=new Date(b);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(R)};return e.jsxs("div",{className:"container mx-auto py-4 md:py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Tech Forums"}),e.jsx(E,{variant:"outline",size:"icon",className:"md:hidden",onClick:()=>N(!v),children:e.jsx(Gs,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 md:gap-8",children:[v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>N(!1)}),e.jsx("div",{className:`fixed lg:static z-50 lg:z-auto inset-y-0 left-0 w-72 p-4 lg:p-0 bg-background lg:bg-transparent overflow-y-auto transition-transform duration-300 ease-in-out ${v?"translate-x-0":"-translate-x-full"} lg:translate-x-0 order-2 lg:order-1`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search forums...",className:"w-full pl-9",value:s,onChange:k})]})}),e.jsx(Et,{title:"Browse By",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(E,{variant:u==="popular"?"default":"outline",size:"sm",className:"justify-start",onClick:()=>C("popular"),children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"})," Popular"]}),e.jsxs(E,{variant:u==="recent"?"default":"outline",size:"sm",className:"justify-start",onClick:()=>C("recent"),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"})," Recent"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"justify-start",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2 text-primary"})," Following"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"justify-start",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2 text-primary"})," Saved"]})]})}),e.jsx(Et,{title:"Categories",children:y?e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(b=>e.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"},b))}):e.jsx(e.Fragment,{children:(H=p==null?void 0:p.results)==null?void 0:H.map(b=>e.jsx(en,{icon:e.jsx(lt,{className:`h-4 w-4 mr-2 ${h===b.id?"":"text-primary"}`}),label:b.name,count:b.forum_count||0,active:h===b.id,onClick:()=>L(b.id)},b.id))})}),e.jsxs("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Join the conversation"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect with other tech enthusiasts and share your knowledge."}),j?e.jsx(Ja,{}):e.jsx(E,{variant:"default",className:"w-full",onClick:()=>w(It(!0)),children:"Create a Forum"})]})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6 order-1 lg:order-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-semibold",children:[n?`Search: "${n}"`:"All Forums",h&&(p==null?void 0:p.results)&&e.jsxs("span",{className:"text-muted-foreground ml-2 text-sm",children:["in ",(G=p.results.find(b=>b.id===h))==null?void 0:G.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(),disabled:g,children:e.jsx(Sr,{className:`h-4 w-4 ${g?"animate-spin":""}`})}),e.jsx(Me,{value:u,onValueChange:C,children:e.jsxs(Oe,{className:"bg-muted/50",children:[e.jsx(ee,{value:"popular",className:"text-xs",children:"Popular"}),e.jsx(ee,{value:"recent",className:"text-xs",children:"Recent"})]})})]})]}),g?e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx(Ve,{}),e.jsx(Ve,{}),e.jsx(Ve,{})]}):f?e.jsxs("div",{className:"p-6 md:p-8 text-center rounded-xl border border-border",children:[e.jsx(pr,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto text-red-500 mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium mb-2",children:"Error loading forums."}),e.jsx("p",{className:"text-muted-foreground mb-4 md:mb-6",children:"There was a problem fetching the forums. Please try again later."}),e.jsx(E,{onClick:()=>d(),children:"Try Again"})]}):((K=i==null?void 0:i.results)==null?void 0:K.length)===0?e.jsxs("div",{className:"p-6 md:p-8 text-center rounded-xl border border-border",children:[e.jsx(Fe,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium mb-2",children:"No forums found"}),e.jsx("p",{className:"text-muted-foreground mb-4 md:mb-6",children:n?`No forums matching "${n}" were found.`:h?"No forums in this category yet.":"No forums available. Be the first to create one!"})]}):e.jsxs(e.Fragment,{children:[(z=i==null?void 0:i.results)==null?void 0:z.map(b=>e.jsx("div",{className:"bg-card rounded-xl p-4 md:p-5 shadow-sm hover:shadow-md transition-all duration-300 border border-border/50 cursor-pointer",onClick:()=>_(b.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(me,{className:"h-8 w-8 md:h-10 md:w-10",children:b.created_by.profile_image?e.jsx(ve,{src:b.created_by.profile_image,alt:b.created_by.username}):e.jsx(he,{children:D(`${b.created_by.first_name} ${b.created_by.last_name}`)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm md:text-base",children:b.created_by.username}),e.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground",children:["• ",V(b.created_at)]}),b.followers_count>10&&e.jsx(q,{className:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20 text-xs",children:"Hot"}),!b.is_public&&e.jsx(q,{className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 text-xs",children:"Private"}),b.locked&&e.jsx(q,{className:"bg-red-500/10 text-red-500 hover:bg-red-500/20 text-xs",children:"Locked"})]}),e.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2 hover:text-primary transition-colors line-clamp-2",children:b.title}),e.jsx("p",{className:"text-muted-foreground mb-3 line-clamp-2 text-sm md:text-base",children:b.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary text-xs md:text-sm",children:["#",b.category.name]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs md:text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-3 w-3 md:h-4 md:w-4"}),b.discussion_count||0," discussions"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ye,{className:"h-3 w-3 md:h-4 md:w-4"}),b.followers_count||0," followers"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-3 w-3 md:h-4 md:w-4"}),b.views||0," views"]})]}),b.latest_discussion&&e.jsxs("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 md:mb-2",children:[e.jsx("div",{className:"w-1 h-4 md:h-5 bg-primary/50 rounded"}),e.jsx("span",{className:"text-xs md:text-sm font-medium",children:"Latest Discussion"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2",children:[e.jsx(me,{className:"h-5 w-5 md:h-6 md:w-6",children:b.latest_discussion.author.profile_image?e.jsx(ve,{src:b.latest_discussion.author.profile_image}):e.jsx(he,{children:D(`${b.latest_discussion.author.first_name} ${b.latest_discussion.author.last_name}`)})}),e.jsx("span",{className:"text-xs md:text-sm",children:b.latest_discussion.author.username}),e.jsx("span",{className:"text-xs text-muted-foreground",children:V(b.latest_discussion.created_at)})]}),e.jsx("p",{className:"text-sm font-medium mt-1 hover:text-primary line-clamp-1",children:b.latest_discussion.title})]})]})]})]})},b.id)),A>1&&e.jsx(it,{className:"mt-6 md:mt-8",children:e.jsxs(ct,{children:[e.jsx(re,{children:e.jsx(dt,{onClick:()=>a>1&&S(a-1),className:a===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,A)},(b,R)=>{let F;return A<=5||a<=3?F=R+1:a>=A-2?F=A-4+R:F=a-2+R,F>0&&F<=A?e.jsx(re,{children:e.jsx(E,{variant:a===F?"default":"outline",size:"sm",className:"h-8 w-8",onClick:()=>S(F),children:F})},F):null}),e.jsx(re,{children:e.jsx(ut,{onClick:()=>a<A&&S(a+1),className:a===A?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]})]})},Ve=()=>e.jsx("div",{className:"bg-card rounded-xl p-4 md:p-5 shadow-sm border border-border/50 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 rounded-full bg-muted"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mb-1",children:[e.jsx("div",{className:"h-3 md:h-4 w-20 md:w-24 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-12 md:w-16 bg-muted rounded"})]}),e.jsx("div",{className:"h-4 md:h-6 w-3/4 bg-muted rounded mb-2"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("div",{className:"h-4 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"h-3 md:h-4 w-12 bg-muted rounded"}),e.jsx("div",{className:"h-3 md:h-4 w-12 bg-muted rounded"}),e.jsx("div",{className:"h-3 md:h-4 w-20 bg-muted rounded"})]})]})]})}),We=({title:t,children:s})=>e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:t}),e.jsx("div",{className:"space-y-2",children:s})]}),sn=({icon:t,label:s,count:r})=>e.jsxs(E,{variant:"ghost",className:"w-full justify-between text-sm font-normal px-2 py-1.5 h-auto hover:bg-primary/5",children:[e.jsxs("div",{className:"flex items-center",children:[t,s]}),e.jsx(q,{variant:"outline",className:"ml-2",children:r})]}),rn=()=>{const[t,s]=l.useState(""),[r,n]=l.useState("popular"),[o,u]=l.useState(1),c=ot(),{data:a,isLoading:m,isError:h,error:x,refetch:j}=te({queryKey:["blogs",{sortBy:r,searchQuery:t,currentPage:o}],queryFn:()=>Qe.getBlogs({ordering:r==="popular"?"-views":"-published_at",search:t||void 0,page:o})}),{data:w}=te({queryKey:["blog-categories"],queryFn:()=>Qe.getCategories()}),v=(a==null?void 0:a.results)||[],N=d=>{c(`/blogs/${d}`)},i=d=>{d.preventDefault(),u(1),j()},g=()=>{u(d=>d+1)},f=d=>{n(d),u(1)};return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("p",{className:"text-red-500",children:["Error loading blogs: ",x instanceof Error?x.message:"Unknown error"]})}):e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[e.jsx("div",{className:"md:hidden mb-6",children:e.jsx("form",{onSubmit:i,children:e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search articles...",className:"pl-8",value:t,onChange:d=>s(d.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})})}),e.jsx(We,{title:"Search",children:e.jsx("form",{onSubmit:i,className:"mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search articles...",className:"pl-8",value:t,onChange:d=>s(d.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})})}),e.jsx(We,{title:"Popular Topics",children:w==null?void 0:w.results.map(d=>e.jsx(sn,{icon:e.jsx(lt,{className:"h-4 w-4 mr-2 text-blue-600"}),label:d.name,count:d.blogs_count},d.id))}),e.jsx(We,{title:"Reading Lists",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs(E,{variant:"ghost",className:"justify-start text-sm font-normal h-auto",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2 text-primary"})," My Bookmarks"]}),e.jsxs(E,{variant:"ghost",className:"justify-start text-sm font-normal h-auto",children:[e.jsx(Le,{className:"h-4 w-4 mr-2 text-primary"})," Read Later"]}),e.jsxs(E,{variant:"ghost",className:"justify-start text-sm font-normal h-auto",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2 text-primary"})," Favorites"]}),e.jsxs(E,{variant:"ghost",className:"justify-start text-sm font-normal h-auto",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2 text-primary"})," Trending Articles"]})]})}),e.jsxs("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10",children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Share your knowledge"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Have expertise to share? Write an article and reach thousands of developers."}),e.jsx(E,{className:"w-full text-sm bg-primary hover:bg-primary/90",children:"Write Article"})]})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-6 order-1 lg:order-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Latest Articles"}),e.jsx(Me,{value:r,onValueChange:d=>f(d),className:"hidden sm:block",children:e.jsxs(Oe,{className:"bg-muted/50",children:[e.jsx(ee,{value:"popular",className:"text-xs",children:"Popular"}),e.jsx(ee,{value:"recent",className:"text-xs",children:"Recent"})]})})]}),m&&o===1?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ke,{}),e.jsx(Ke,{}),e.jsx(Ke,{})]}):e.jsxs(e.Fragment,{children:[v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No articles found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try changing your search query or filters."})]}):e.jsx(e.Fragment,{children:v.map(d=>e.jsx("div",{className:"bg-card rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 border border-border/50 cursor-pointer",onClick:()=>N(d.slug),children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.featured_image&&e.jsx("div",{className:"md:w-1/3 bg-primary/10 h-48 md:h-auto shrink-0 relative overflow-hidden",children:e.jsx("img",{src:d.featured_image,alt:d.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(q,{className:"bg-primary/10 text-primary hover:bg-primary/20 text-xs",children:"5 min read"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["• ",new Date(d.published_at||d.created_at).toLocaleDateString()]})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2 hover:text-primary transition-colors",children:d.title}),e.jsxs("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:[d.content.substring(0,200),"..."]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.categories.slice(0,3).map(p=>e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary",children:["#",p.name]},p.id))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(me,{className:"h-6 w-6 mr-2",children:e.jsx(he,{children:d.author.username.substring(0,2).toUpperCase()})}),e.jsx("span",{className:"font-medium",children:d.author.username})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-4 w-4"}),d.views," views"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-4 w-4"}),d.comments.length||0," comments"]})]})]})]})]})},d.id))}),m&&o>1&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading more articles..."})]}),(a==null?void 0:a.next)&&!m&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(E,{variant:"outline",className:"w-full md:w-auto",onClick:g,children:"Load More Articles"})})]})]})]})},Ke=()=>e.jsx("div",{className:"bg-card rounded-xl overflow-hidden shadow-sm border border-border/50 animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"md:w-1/3 bg-muted h-48 md:h-auto shrink-0"}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsx("div",{className:"h-7 w-3/4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 w-full bg-muted rounded mb-1"}),e.jsx("div",{className:"h-4 w-2/3 bg-muted rounded mb-4"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-5 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-muted mr-2"}),e.jsx("div",{className:"h-4 w-20 bg-muted rounded"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-10 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-10 bg-muted rounded"})]})]})]})]})}),an=()=>{const{isAuthenticated:t}=_t(),s=Tt(),[r,n]=l.useState(1),[o,u]=l.useState(""),[c,a]=l.useState(null),{data:m,isLoading:h,error:x,refetch:j}=te({queryKey:["polls",r,o,c],queryFn:()=>ft.getPolls({page:r,search:o})}),{data:w}=te({queryKey:["categories"],queryFn:()=>ke.getForumCategories()}),v=async(d,p)=>{if(!t){s(It(!0));return}try{await ft.createVote({poll:d,option:p}),j()}catch(y){console.error("Failed to vote:",y)}},N=d=>{n(d),window.scrollTo({top:0,behavior:"smooth"})},i=d=>{d.preventDefault(),n(1),j()},g=d=>{a(d===c?null:d),n(1)},f=m!=null&&m.count?Math.ceil(m.count/10):0;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-card rounded-xl p-4 shadow-sm border border-border/50 sticky top-20",children:[e.jsx("form",{onSubmit:i,className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search polls...",className:"pl-8",value:o,onChange:d=>u(d.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Categories"})]}),e.jsx("div",{className:"space-y-2",children:h?Array(5).fill(0).map((d,p)=>e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"},p)):w!=null&&w.results?w.results.map(d=>e.jsxs(q,{variant:c===d.id?"default":"outline",className:"mr-2 mb-2 cursor-pointer hover:bg-primary/10 hover:text-primary w-full justify-between",onClick:()=>g(d.id),children:[d.name,e.jsx("span",{className:"ml-auto bg-background/80 text-xs px-1.5 py-0.5 rounded-sm",children:0})]},d.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories found"})})]})]})}),e.jsx("div",{className:"md:col-span-3",children:h?e.jsxs("div",{className:"space-y-6",children:[e.jsx(qe,{}),e.jsx(qe,{}),e.jsx(qe,{})]}):x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500",children:"Failed to load polls"}),e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>j(),children:"Retry"})]}):!(m!=null&&m.results)||m.results.length===0?e.jsxs("div",{className:"text-center py-12 bg-card rounded-xl p-6 shadow-sm border border-border/50",children:[e.jsx("p",{className:"text-muted-foreground",children:"No polls available yet"}),o||c?e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>{u(""),a(null)},children:"Clear filters"}):null]}):e.jsxs("div",{className:"space-y-6",children:[m.results.map(d=>e.jsx(nn,{poll:d,onVote:v},d.id)),f>1&&e.jsx(it,{className:"mt-8",children:e.jsxs(ct,{children:[e.jsx(re,{children:e.jsx(dt,{onClick:()=>r>1&&N(r-1),className:r===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,f)},(d,p)=>{let y;return f<=5||r<=3?y=p+1:r>=f-2?y=f-4+p:y=r-2+p,y>0&&y<=f?e.jsx(re,{children:e.jsx(E,{variant:r===y?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>N(y),children:y})},y):null}),e.jsx(re,{children:e.jsx(ut,{onClick:()=>r<f&&N(r+1),className:r===f?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})})]})},nn=({poll:t,onVote:s})=>{var m,h,x,j,w;t.options.reduce((v,N)=>v+(N.vote_count||0),0);const[r,n]=l.useState(!1),[o,u]=l.useState(null),c=async()=>{if(o!==null){n(!0);try{await(s==null?void 0:s(t.id,o))}finally{n(!1)}}},a=()=>{if(!t.ends_at)return null;const v=new Date(t.ends_at),N=new Date;if(N>v)return"Poll ended";const i=Math.abs(v.getTime()-N.getTime()),g=Math.floor(i/(1e3*60*60*24));if(g>0)return`${g} days left`;const f=Math.floor(i%(1e3*60*60*24)/(1e3*60*60));return f>0?`${f} hours left`:`${Math.floor(i%(1e3*60*60)/(1e3*60))} minutes left`};return e.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-border/50",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"h-8 w-8",children:(m=t.created_by)!=null&&m.profile_image?e.jsx(ve,{src:t.created_by.profile_image,alt:t.created_by.username}):e.jsx(he,{children:((x=(h=t.created_by)==null?void 0:h.username)==null?void 0:x.slice(0,2).toUpperCase())||"??"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((j=t.created_by)==null?void 0:j.username)||"Anonymous"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Posted a poll • ",new Date(t.created_at).toLocaleDateString()]})]})]}),e.jsx(q,{variant:"outline",className:"text-sm bg-amber-100 text-amber-800 border-amber-200",children:a()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-3",children:[t.featured_image&&e.jsx("div",{className:"md:col-span-2",children:e.jsx("img",{src:t.featured_image,alt:t.title,className:"rounded-lg w-full h-48 object-cover"})}),e.jsxs("div",{className:`${t.featured_image?"md:col-span-3":"md:col-span-5"}`,children:[e.jsx(Ge,{to:`/polls/${t.id}`,className:"hover:underline",children:e.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.title})}),e.jsx("div",{className:"space-y-3",children:t.options.map(v=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:`poll-${t.id}`,className:"h-4 w-4 text-primary",onChange:()=>u(v.id),disabled:t.user_vote!==null||r,checked:o===v.id}),e.jsx("span",{children:v.text})]})}),e.jsxs("span",{className:"text-muted-foreground",children:[v.vote_percentage,"%"]})]}),e.jsx(kt,{value:v.vote_percentage,className:"h-2",indicatorClassName:v.id===1?"bg-blue-500":v.id===2?"bg-green-500":v.id===3?"bg-red-500":v.id===4?"bg-purple-500":v.id===5?"bg-yellow-500":v.id===6?"bg-cyan-500":"bg-primary"}),e.jsxs("div",{className:"mt-1 text-xs text-muted-foreground text-right",children:[v.vote_count," votes"]})]},v.id))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:(w=t.categories)==null?void 0:w.map(v=>e.jsxs(q,{variant:"outline",className:"hover:bg-primary/10 hover:text-primary",children:["#",v]},v))}),e.jsxs("div",{className:"flex space-x-2",children:[t.user_vote?e.jsx(E,{variant:"outline",size:"sm",disabled:!0,children:"Voted"}):e.jsx(E,{variant:"outline",size:"sm",onClick:c,disabled:o===null||r,children:r?e.jsx(fr,{className:"h-4 w-4 animate-spin"}):"Vote Now"}),e.jsx(E,{variant:"default",size:"sm",onClick:()=>{window.open(`/polls/${t.id}`)},children:"View Details"})]})]})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[new Date(t.starts_at).toLocaleDateString()," - ",new Date(t.ends_at).toLocaleDateString()]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:[t.total_votes," total votes"]})]})]})},qe=()=>e.jsxs("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border/50 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted"}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 w-24 bg-muted rounded"}),e.jsx("div",{className:"h-3 w-32 bg-muted rounded mt-1"})]})]}),e.jsx("div",{className:"h-7 w-3/4 bg-muted rounded mt-3 mb-6"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("div",{className:"h-5 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-8 bg-muted rounded"})]}),e.jsx("div",{className:"h-2 w-full bg-muted rounded"}),e.jsx("div",{className:"h-3 w-12 bg-muted rounded mt-1 ml-auto"})]},t))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("div",{className:"h-5 w-16 bg-muted rounded"}),e.jsx("div",{className:"h-5 w-20 bg-muted rounded"})]}),e.jsx("div",{className:"h-8 w-20 bg-muted rounded"})]})]}),on=()=>{const[t,s]=l.useState(1),[r,n]=l.useState(""),[o,u]=l.useState(null),{data:c,isLoading:a,error:m,refetch:h}=te({queryKey:["projects",t,r,o],queryFn:()=>gt.getProjects({page:t,search:r})}),{data:x}=te({queryKey:["project-categories"],queryFn:()=>gt.getCategories()}),j=i=>{s(i),window.scrollTo({top:0,behavior:"smooth"})},w=i=>{i.preventDefault(),s(1),h()},v=i=>{u(i===o?null:i),s(1)},N=c!=null&&c.count?Math.ceil(c.count/10):0;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-card rounded-xl p-4 shadow-sm border border-border/50 sticky top-20",children:[e.jsx("form",{onSubmit:w,className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(ue,{placeholder:"Search projects...",className:"pl-8",value:r,onChange:i=>n(i.target.value)}),e.jsx(E,{type:"submit",variant:"default",size:"sm",className:"absolute right-1 top-1",children:"Search"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),e.jsx("h3",{className:"font-medium",children:"Categories"})]}),e.jsx("div",{className:"space-y-2",children:a?Array(5).fill(0).map((i,g)=>e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"},g)):x!=null&&x.results?x.results.map(i=>e.jsxs(q,{variant:o===i.id?"default":"outline",className:"mr-2 mb-2 cursor-pointer hover:bg-primary/10 hover:text-primary w-full justify-between",onClick:()=>v(i.id),children:[i.name,e.jsx("span",{className:"ml-auto bg-background/80 text-xs px-1.5 py-0.5 rounded-sm",children:i.project_count||0})]},i.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories found"})})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[e.jsx(E,{variant:"outline",className:"w-full",children:"Trending Projects"}),e.jsx(E,{variant:"outline",className:"w-full mt-2",children:"My Projects"})]})]})}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Community Projects"}),a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(i=>e.jsx(cn,{},i))}):m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500",children:"Failed to load projects"}),e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>h(),children:"Retry"})]}):!(c!=null&&c.results)||c.results.length===0?e.jsxs("div",{className:"text-center py-12 bg-card rounded-xl p-6 shadow-sm border border-border/50",children:[e.jsx("p",{className:"text-muted-foreground",children:"No projects available yet"}),r||o?e.jsx(E,{variant:"outline",className:"mt-4",onClick:()=>{n(""),u(null)},children:"Clear filters"}):null]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.results.map(i=>e.jsx(ln,{project:i},i.id))}),N>1&&e.jsx(it,{className:"mt-8",children:e.jsxs(ct,{children:[e.jsx(re,{children:e.jsx(dt,{onClick:()=>t>1&&j(t-1),className:t===1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:Math.min(5,N)},(i,g)=>{let f;return N<=5||t<=3?f=g+1:t>=N-2?f=N-4+g:f=t-2+g,f>0&&f<=N?e.jsx(re,{children:e.jsx(E,{variant:t===f?"default":"outline",size:"icon",className:"h-8 w-8",onClick:()=>j(f),children:f})},f):null}),e.jsx(re,{children:e.jsx(ut,{onClick:()=>t<N&&j(t+1),className:t===N?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]})},ln=({project:t})=>{var s,r,n;return e.jsxs(Lt,{className:"overflow-hidden hover:shadow-md transition-all duration-300",children:[t.featured_image&&e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),e.jsxs(Ft,{className:t.featured_image?"-mt-10 relative z-10":"",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:"h-8 w-8 border-2 border-background",children:t.author.profileImage?e.jsx(ve,{src:t.author.profileImage,alt:t.author.username}):e.jsx(he,{children:t.author.username.slice(0,2).toUpperCase()})}),e.jsx("span",{className:`font-medium ${t.featured_image?"text-white":""}`,children:t.author.username})]}),e.jsxs("div",{className:"flex space-x-1",children:[t.github_url&&e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx("a",{href:t.github_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Qs,{className:"h-4 w-4"})})}),t.project_url&&e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx("a",{href:t.project_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(gr,{className:"h-4 w-4"})})})]})]}),e.jsx(Ge,{to:`/projects/${t.id}`,children:e.jsx("h3",{className:`text-xl font-bold mt-2 hover:underline ${t.featured_image?"text-white":""}`,children:t.title})})]}),e.jsxs(Dt,{children:[e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:t.description}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-1",children:[(s=t.technologies_used)==null?void 0:s.slice(0,4).map(o=>e.jsx(q,{variant:"secondary",className:"text-xs",children:o.name},o.id)),((r=t.technologies_used)==null?void 0:r.length)>4&&e.jsxs(q,{variant:"secondary",className:"text-xs",children:["+",t.technologies_used.length-4," more"]})]})]}),e.jsxs(Bt,{className:"flex justify-between items-center border-t pt-4",children:[e.jsxs("div",{className:"flex -space-x-2",children:[(n=t.contributors)==null?void 0:n.slice(0,3).map(o=>e.jsx(me,{className:"h-6 w-6 border-2 border-background",children:o.profileImage?e.jsx(ve,{src:o.profileImage,alt:o.username}):e.jsx(he,{className:"text-xs",children:o.username.slice(0,2).toUpperCase()})},o.id)),t.contributors&&t.contributors.length>3&&e.jsxs("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center text-xs border-2 border-background",children:["+",t.contributors.length-3]})]}),e.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:e.jsx(Ge,{to:`/projects/${t.id}`,children:"View Project"})})]})]})},cn=()=>e.jsxs(Lt,{className:"overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-muted"}),e.jsxs(Ft,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted"}),e.jsx("div",{className:"h-4 w-24 bg-muted rounded"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-muted"}),e.jsx("div",{className:"h-8 w-8 rounded bg-muted"})]})]}),e.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mt-2"})]}),e.jsxs(Dt,{children:[e.jsx("div",{className:"h-4 w-full bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 w-3/4 bg-muted rounded"}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-1",children:[1,2,3].map(t=>e.jsx("div",{className:"h-5 w-16 bg-muted rounded"},t))})]}),e.jsxs(Bt,{className:"border-t pt-4",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2].map(t=>e.jsx("div",{className:"h-6 w-6 rounded-full bg-muted"},t))}),e.jsx("div",{className:"ml-auto h-8 w-24 bg-muted rounded"})]})]});function Mn(){const[t,s]=l.useState("forums"),[r,n]=l.useState(!1),o=ot(),{data:u,isLoading:c}=te({queryKey:["blogs"],queryFn:()=>Qe.getBlogs()});l.useEffect(()=>{const m=new IntersectionObserver(h=>{h.forEach(x=>{x.isIntersecting&&x.target.classList.add("animate-fadeIn")})},{threshold:.1});return document.querySelectorAll(".fade-in-element").forEach(h=>{m.observe(h)}),()=>m.disconnect()},[t]);const a=u==null?void 0:u.results[0];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[e.jsx(Xs,{}),e.jsx(Ir,{searchQuery:"",setSearchQuery:function(m){throw new Error("Function not implemented.")}}),e.jsx(Tr,{activeTab:t,onTabChange:s}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(kt,{className:"w-1/2",value:100})}):e.jsxs("div",{className:"relative bg-gradient-to-r from-primary/10 to-background rounded-2xl p-6 mb-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full -mr-20 -mt-20"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-primary/10 rounded-full -ml-10 -mb-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center relative z-10",children:[e.jsxs("div",{children:[e.jsx(q,{className:"bg-primary/20 text-primary mb-4 hover:bg-primary/30",children:"Featured"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a==null?void 0:a.title}),e.jsx("p",{className:"text-muted-foreground mb-4",children:a!=null&&a.content?a.content.length>100?`${a.content.slice(0,100)}...`:a.content:"No content available"}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsxs(me,{className:"h-8 w-8 mr-2",children:[e.jsx(ve,{src:(a==null?void 0:a.author.profileImage)??void 0}),e.jsx(he,{children:e.jsx(Ys,{className:"h-4 w-4"})})]}),e.jsxs("span",{className:"font-medium mr-2",children:[a==null?void 0:a.author.first_name," ",a==null?void 0:a.author.last_name]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(Le,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:a==null?void 0:a.categories[0].name}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx(Ae,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[a==null?void 0:a.views," Views"]})]})]}),e.jsxs(E,{className:"shrink-0",onClick:()=>{o(`/blogs/${a==null?void 0:a.slug}`)},children:["Read Article ",e.jsx(Rt,{className:"ml-2 h-4 w-4"})]})]})]}),t==="forums"&&e.jsx(tn,{}),t==="blogs"&&e.jsx(rn,{}),t==="polls"&&e.jsx(an,{}),t==="projects"&&e.jsx(on,{})]})]})}export{Mn as default};

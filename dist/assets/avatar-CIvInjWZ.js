var ge=t=>{throw TypeError(t)};var Y=(t,e,s)=>e.has(t)||ge("Cannot "+s);var r=(t,e,s)=>(Y(t,e,"read from private field"),s?s.call(t):e.get(t)),m=(t,e,s)=>e.has(t)?ge("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),d=(t,e,s,a)=>(Y(t,e,"write to private field"),a?a.call(t,s):e.set(t,s),s),f=(t,e,s)=>(Y(t,e,"access private method"),s);import{_ as je,$ as be,a0 as E,a1 as Z,a2 as K,a3 as Me,a4 as ee,a5 as me,a6 as Pe,a7 as Ue,a8 as De,a9 as ye,aa as Ie,r as v,ab as Ne,P as Be,ac as Re,j as L,ad as He,e as q,W as ze,g as Ve,n as We,o as te}from"./index-ux5oNEAr.js";import{P as he}from"./index-D92uPXsy.js";var R,n,H,y,Q,k,I,O,z,j,M,T,F,A,P,c,B,se,re,ae,ie,ne,oe,ue,Oe,we,$e=(we=class extends je{constructor(e,s){super();m(this,c);m(this,R);m(this,n);m(this,H);m(this,y);m(this,Q);m(this,k);m(this,I);m(this,O);m(this,z);m(this,j);m(this,M);m(this,T);m(this,F);m(this,A);m(this,P,new Set);this.options=s,d(this,R,e),d(this,O,null),d(this,I,be()),this.options.experimental_prefetchInRender||r(this,I).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,n).addObserver(this),xe(r(this,n),this.options)?f(this,c,B).call(this):this.updateResult(),f(this,c,ie).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ce(r(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ce(r(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,f(this,c,ne).call(this),f(this,c,oe).call(this),r(this,n).removeObserver(this)}setOptions(e){const s=this.options,a=r(this,n);if(this.options=r(this,R).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof E(this.options.enabled,r(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");f(this,c,ue).call(this),r(this,n).setOptions(this.options),s._defaulted&&!Z(this.options,s)&&r(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,n),observer:this});const o=this.hasListeners();o&&Se(r(this,n),a,this.options,s)&&f(this,c,B).call(this),this.updateResult(),o&&(r(this,n)!==a||E(this.options.enabled,r(this,n))!==E(s.enabled,r(this,n))||K(this.options.staleTime,r(this,n))!==K(s.staleTime,r(this,n)))&&f(this,c,se).call(this);const i=f(this,c,re).call(this);o&&(r(this,n)!==a||E(this.options.enabled,r(this,n))!==E(s.enabled,r(this,n))||i!==r(this,A))&&f(this,c,ae).call(this,i)}getOptimisticResult(e){const s=r(this,R).getQueryCache().build(r(this,R),e),a=this.createResult(s,e);return qe(this,a)&&(d(this,y,a),d(this,k,this.options),d(this,Q,r(this,n).state)),a}getCurrentResult(){return r(this,y)}trackResult(e,s){const a={};return Object.keys(e).forEach(o=>{Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),s==null||s(o),e[o])})}),a}trackProp(e){r(this,P).add(e)}getCurrentQuery(){return r(this,n)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,R).defaultQueryOptions(e),a=r(this,R).getQueryCache().build(r(this,R),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(e){return f(this,c,B).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,y)))}createResult(e,s){var ve;const a=r(this,n),o=this.options,i=r(this,y),u=r(this,Q),g=r(this,k),b=e!==a?e.state:r(this,H),{state:w}=e;let l={...w},U=!1,p;if(s._optimisticResults){const S=this.hasListeners(),W=!S&&xe(e,s),_=S&&Se(e,a,s,o);(W||_)&&(l={...l,...De(w.data,e.options)}),s._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:D,errorUpdatedAt:N,status:x}=l;p=l.data;let V=!1;if(s.placeholderData!==void 0&&p===void 0&&x==="pending"){let S;i!=null&&i.isPlaceholderData&&s.placeholderData===(g==null?void 0:g.placeholderData)?(S=i.data,V=!0):S=typeof s.placeholderData=="function"?s.placeholderData((ve=r(this,M))==null?void 0:ve.state.data,r(this,M)):s.placeholderData,S!==void 0&&(x="success",p=ye(i==null?void 0:i.data,S,s),U=!0)}if(s.select&&p!==void 0&&!V)if(i&&p===(u==null?void 0:u.data)&&s.select===r(this,z))p=r(this,j);else try{d(this,z,s.select),p=s.select(p),p=ye(i==null?void 0:i.data,p,s),d(this,j,p),d(this,O,null)}catch(S){d(this,O,S)}r(this,O)&&(D=r(this,O),p=r(this,j),N=Date.now(),x="error");const G=l.fetchStatus==="fetching",J=x==="pending",X=x==="error",fe=J&&G,pe=p!==void 0,C={status:x,fetchStatus:l.fetchStatus,isPending:J,isSuccess:x==="success",isError:X,isInitialLoading:fe,isLoading:fe,data:p,dataUpdatedAt:l.dataUpdatedAt,error:D,errorUpdatedAt:N,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>b.dataUpdateCount||l.errorUpdateCount>b.errorUpdateCount,isFetching:G,isRefetching:G&&!J,isLoadingError:X&&!pe,isPaused:l.fetchStatus==="paused",isPlaceholderData:U,isRefetchError:X&&pe,isStale:le(e,s),refetch:this.refetch,promise:r(this,I)};if(this.options.experimental_prefetchInRender){const S=$=>{C.status==="error"?$.reject(C.error):C.data!==void 0&&$.resolve(C.data)},W=()=>{const $=d(this,I,C.promise=be());S($)},_=r(this,I);switch(_.status){case"pending":e.queryHash===a.queryHash&&S(_);break;case"fulfilled":(C.status==="error"||C.data!==_.value)&&W();break;case"rejected":(C.status!=="error"||C.error!==_.reason)&&W();break}}return C}updateResult(){const e=r(this,y),s=this.createResult(r(this,n),this.options);if(d(this,Q,r(this,n).state),d(this,k,this.options),r(this,Q).data!==void 0&&d(this,M,r(this,n)),Z(s,e))return;d(this,y,s);const a=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,i=typeof o=="function"?o():o;if(i==="all"||!i&&!r(this,P).size)return!0;const u=new Set(i??r(this,P));return this.options.throwOnError&&u.add("error"),Object.keys(r(this,y)).some(g=>{const h=g;return r(this,y)[h]!==e[h]&&u.has(h)})};f(this,c,Oe).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&f(this,c,ie).call(this)}},R=new WeakMap,n=new WeakMap,H=new WeakMap,y=new WeakMap,Q=new WeakMap,k=new WeakMap,I=new WeakMap,O=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,T=new WeakMap,F=new WeakMap,A=new WeakMap,P=new WeakMap,c=new WeakSet,B=function(e){f(this,c,ue).call(this);let s=r(this,n).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Me)),s},se=function(){f(this,c,ne).call(this);const e=K(this.options.staleTime,r(this,n));if(ee||r(this,y).isStale||!me(e))return;const a=Pe(r(this,y).dataUpdatedAt,e)+1;d(this,T,setTimeout(()=>{r(this,y).isStale||this.updateResult()},a))},re=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,n)):this.options.refetchInterval)??!1},ae=function(e){f(this,c,oe).call(this),d(this,A,e),!(ee||E(this.options.enabled,r(this,n))===!1||!me(r(this,A))||r(this,A)===0)&&d(this,F,setInterval(()=>{(this.options.refetchIntervalInBackground||Ue.isFocused())&&f(this,c,B).call(this)},r(this,A)))},ie=function(){f(this,c,se).call(this),f(this,c,ae).call(this,f(this,c,re).call(this))},ne=function(){r(this,T)&&(clearTimeout(r(this,T)),d(this,T,void 0))},oe=function(){r(this,F)&&(clearInterval(r(this,F)),d(this,F,void 0))},ue=function(){const e=r(this,R).getQueryCache().build(r(this,R),this.options);if(e===r(this,n))return;const s=r(this,n);d(this,n,e),d(this,H,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Oe=function(e){Ie.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,y))}),r(this,R).getQueryCache().notify({query:r(this,n),type:"observerResultsUpdated"})})},we);function Ke(t,e){return E(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xe(t,e){return Ke(t,e)||t.state.data!==void 0&&ce(t,e,e.refetchOnMount)}function ce(t,e,s){if(E(e.enabled,t)!==!1){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&le(t,e)}return!1}function Se(t,e,s,a){return(t!==e||E(a.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&le(t,s)}function le(t,e){return E(e.enabled,t)!==!1&&t.isStaleByTime(K(e.staleTime,t))}function qe(t,e){return!Z(t.getCurrentResult(),e)}var Ae=v.createContext(!1),Ge=()=>v.useContext(Ae);Ae.Provider;function Je(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Xe=v.createContext(Je()),Ye=()=>v.useContext(Xe),Ze=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},et=t=>{v.useEffect(()=>{t.clearReset()},[t])},tt=({result:t,errorResetBoundary:e,throwOnError:s,query:a,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(o&&t.data===void 0||Ne(s,[t.error,a])),st=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},rt=(t,e)=>t.isLoading&&t.isFetching&&!e,at=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ce=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function it(t,e,s){var l,U,p,D,N;const a=Be(),o=Ge(),i=Ye(),u=a.defaultQueryOptions(t);(U=(l=a.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||U.call(l,u),u._optimisticResults=o?"isRestoring":"optimistic",st(u),Ze(u,i),et(i);const g=!a.getQueryCache().get(u.queryHash),[h]=v.useState(()=>new e(a,u)),b=h.getOptimisticResult(u),w=!o&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const V=w?h.subscribe(Ie.batchCalls(x)):Re;return h.updateResult(),V},[h,w]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u)},[u,h]),at(u,b))throw Ce(u,h,i);if(tt({result:b,errorResetBoundary:i,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw b.error;if((D=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||D.call(p,u,b),u.experimental_prefetchInRender&&!ee&&rt(b,o)){const x=g?Ce(u,h,i):(N=a.getQueryCache().get(u.queryHash))==null?void 0:N.promise;x==null||x.catch(Re).finally(()=>{h.updateResult()})}return u.notifyOnChangeProps?b:h.trackResult(b)}function yt(t,e){return it(t,$e)}const nt=ze("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Rt({className:t,variant:e,asChild:s=!1,...a}){const o=s?He:"span";return L.jsx(o,{"data-slot":"badge",className:q(nt({variant:e}),t),...a})}var de="Avatar",[ot,xt]=Ve(de),[ut,Le]=ot(de),Qe=v.forwardRef((t,e)=>{const{__scopeAvatar:s,...a}=t,[o,i]=v.useState("idle");return L.jsx(ut,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:i,children:L.jsx(he.span,{...a,ref:e})})});Qe.displayName=de;var Te="AvatarImage",Fe=v.forwardRef((t,e)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:o=()=>{},...i}=t,u=Le(Te,s),g=ct(a,i),h=We(b=>{o(b),u.onImageLoadingStatusChange(b)});return te(()=>{g!=="idle"&&h(g)},[g,h]),g==="loaded"?L.jsx(he.img,{...i,ref:e,src:a}):null});Fe.displayName=Te;var _e="AvatarFallback",ke=v.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:a,...o}=t,i=Le(_e,s),[u,g]=v.useState(a===void 0);return v.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>g(!0),a);return()=>window.clearTimeout(h)}},[a]),u&&i.imageLoadingStatus!=="loaded"?L.jsx(he.span,{...o,ref:e}):null});ke.displayName=_e;function Ee(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ct(t,{referrerPolicy:e,crossOrigin:s}){const a=lt(),o=v.useRef(null),i=a?(o.current||(o.current=new window.Image),o.current):null,[u,g]=v.useState(()=>Ee(i,t));return te(()=>{g(Ee(i,t))},[i,t]),te(()=>{const h=l=>()=>{g(l)};if(!i)return;const b=h("loaded"),w=h("error");return i.addEventListener("load",b),i.addEventListener("error",w),e&&(i.referrerPolicy=e),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",b),i.removeEventListener("error",w)}},[i,s,e]),u}function ht(){return()=>{}}function lt(){return v.useSyncExternalStore(ht,()=>!0,()=>!1)}var dt=Qe,ft=Fe,pt=ke;function St({className:t,...e}){return L.jsx(dt,{"data-slot":"avatar",className:q("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Ct({className:t,...e}){return L.jsx(ft,{"data-slot":"avatar-image",className:q("aspect-square size-full",t),...e})}function Et({className:t,...e}){return L.jsx(pt,{"data-slot":"avatar-fallback",className:q("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}export{St as A,Rt as B,Ct as a,Et as b,yt as u};

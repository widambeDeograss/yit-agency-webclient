var le=t=>{throw TypeError(t)};var G=(t,e,s)=>e.has(t)||le("Cannot "+s);var r=(t,e,s)=>(G(t,e,"read from private field"),s?s.call(t):e.get(t)),b=(t,e,s)=>e.has(t)?le("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),c=(t,e,s,i)=>(G(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),d=(t,e,s)=>(G(t,e,"access private method"),s);import{$ as Oe,a0 as de,a1 as x,a2 as J,a3 as $,a4 as Se,a5 as X,a6 as fe,a7 as we,a8 as Ee,a9 as Qe,aa as pe,ab as Re,r as O,ac as Ie,Q as Te,ad as be,j as Fe,ae as Ue,e as De,Y as Me}from"./index-XddlkiPy.js";var g,a,H,v,I,D,S,w,V,M,P,T,F,E,_,n,A,Z,ee,te,se,re,ie,ae,Ce,me,Pe=(me=class extends Oe{constructor(e,s){super();b(this,n);b(this,g);b(this,a);b(this,H);b(this,v);b(this,I);b(this,D);b(this,S);b(this,w);b(this,V);b(this,M);b(this,P);b(this,T);b(this,F);b(this,E);b(this,_,new Set);this.options=s,c(this,g,e),c(this,w,null),c(this,S,de()),this.options.experimental_prefetchInRender||r(this,S).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,a).addObserver(this),ve(r(this,a),this.options)?d(this,n,A).call(this):this.updateResult(),d(this,n,se).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ne(r(this,a),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ne(r(this,a),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,n,re).call(this),d(this,n,ie).call(this),r(this,a).removeObserver(this)}setOptions(e){const s=this.options,i=r(this,a);if(this.options=r(this,g).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof x(this.options.enabled,r(this,a))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");d(this,n,ae).call(this),r(this,a).setOptions(this.options),s._defaulted&&!J(this.options,s)&&r(this,g).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,a),observer:this});const u=this.hasListeners();u&&ge(r(this,a),i,this.options,s)&&d(this,n,A).call(this),this.updateResult(),u&&(r(this,a)!==i||x(this.options.enabled,r(this,a))!==x(s.enabled,r(this,a))||$(this.options.staleTime,r(this,a))!==$(s.staleTime,r(this,a)))&&d(this,n,Z).call(this);const h=d(this,n,ee).call(this);u&&(r(this,a)!==i||x(this.options.enabled,r(this,a))!==x(s.enabled,r(this,a))||h!==r(this,E))&&d(this,n,te).call(this,h)}getOptimisticResult(e){const s=r(this,g).getQueryCache().build(r(this,g),e),i=this.createResult(s,e);return ke(this,i)&&(c(this,v,i),c(this,D,this.options),c(this,I,r(this,a).state)),i}getCurrentResult(){return r(this,v)}trackResult(e,s){const i={};return Object.keys(e).forEach(u=>{Object.defineProperty(i,u,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(u),s==null||s(u),e[u])})}),i}trackProp(e){r(this,_).add(e)}getCurrentQuery(){return r(this,a)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,g).defaultQueryOptions(e),i=r(this,g).getQueryCache().build(r(this,g),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(e){return d(this,n,A).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,v)))}createResult(e,s){var ue;const i=r(this,a),u=this.options,h=r(this,v),o=r(this,I),Q=r(this,D),R=e!==i?e.state:r(this,H),{state:k}=e;let l={...k},j=!1,f;if(s._optimisticResults){const m=this.hasListeners(),N=!m&&ve(e,s),U=m&&ge(e,i,s,u);(N||U)&&(l={...l,...Qe(k.data,e.options)}),s._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:L,errorUpdatedAt:B,status:y}=l;f=l.data;let z=!1;if(s.placeholderData!==void 0&&f===void 0&&y==="pending"){let m;h!=null&&h.isPlaceholderData&&s.placeholderData===(Q==null?void 0:Q.placeholderData)?(m=h.data,z=!0):m=typeof s.placeholderData=="function"?s.placeholderData((ue=r(this,P))==null?void 0:ue.state.data,r(this,P)):s.placeholderData,m!==void 0&&(y="success",f=pe(h==null?void 0:h.data,m,s),j=!0)}if(s.select&&f!==void 0&&!z)if(h&&f===(o==null?void 0:o.data)&&s.select===r(this,V))f=r(this,M);else try{c(this,V,s.select),f=s.select(f),f=pe(h==null?void 0:h.data,f,s),c(this,M,f),c(this,w,null)}catch(m){c(this,w,m)}r(this,w)&&(L=r(this,w),f=r(this,M),B=Date.now(),y="error");const K=l.fetchStatus==="fetching",Y=y==="pending",q=y==="error",he=Y&&K,ce=f!==void 0,C={status:y,fetchStatus:l.fetchStatus,isPending:Y,isSuccess:y==="success",isError:q,isInitialLoading:he,isLoading:he,data:f,dataUpdatedAt:l.dataUpdatedAt,error:L,errorUpdatedAt:B,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>R.dataUpdateCount||l.errorUpdateCount>R.errorUpdateCount,isFetching:K,isRefetching:K&&!Y,isLoadingError:q&&!ce,isPaused:l.fetchStatus==="paused",isPlaceholderData:j,isRefetchError:q&&ce,isStale:oe(e,s),refetch:this.refetch,promise:r(this,S)};if(this.options.experimental_prefetchInRender){const m=W=>{C.status==="error"?W.reject(C.error):C.data!==void 0&&W.resolve(C.data)},N=()=>{const W=c(this,S,C.promise=de());m(W)},U=r(this,S);switch(U.status){case"pending":e.queryHash===i.queryHash&&m(U);break;case"fulfilled":(C.status==="error"||C.data!==U.value)&&N();break;case"rejected":(C.status!=="error"||C.error!==U.reason)&&N();break}}return C}updateResult(){const e=r(this,v),s=this.createResult(r(this,a),this.options);if(c(this,I,r(this,a).state),c(this,D,this.options),r(this,I).data!==void 0&&c(this,P,r(this,a)),J(s,e))return;c(this,v,s);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:u}=this.options,h=typeof u=="function"?u():u;if(h==="all"||!h&&!r(this,_).size)return!0;const o=new Set(h??r(this,_));return this.options.throwOnError&&o.add("error"),Object.keys(r(this,v)).some(Q=>{const p=Q;return r(this,v)[p]!==e[p]&&o.has(p)})};d(this,n,Ce).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,n,se).call(this)}},g=new WeakMap,a=new WeakMap,H=new WeakMap,v=new WeakMap,I=new WeakMap,D=new WeakMap,S=new WeakMap,w=new WeakMap,V=new WeakMap,M=new WeakMap,P=new WeakMap,T=new WeakMap,F=new WeakMap,E=new WeakMap,_=new WeakMap,n=new WeakSet,A=function(e){d(this,n,ae).call(this);let s=r(this,a).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Se)),s},Z=function(){d(this,n,re).call(this);const e=$(this.options.staleTime,r(this,a));if(X||r(this,v).isStale||!fe(e))return;const i=we(r(this,v).dataUpdatedAt,e)+1;c(this,T,setTimeout(()=>{r(this,v).isStale||this.updateResult()},i))},ee=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,a)):this.options.refetchInterval)??!1},te=function(e){d(this,n,ie).call(this),c(this,E,e),!(X||x(this.options.enabled,r(this,a))===!1||!fe(r(this,E))||r(this,E)===0)&&c(this,F,setInterval(()=>{(this.options.refetchIntervalInBackground||Ee.isFocused())&&d(this,n,A).call(this)},r(this,E)))},se=function(){d(this,n,Z).call(this),d(this,n,te).call(this,d(this,n,ee).call(this))},re=function(){r(this,T)&&(clearTimeout(r(this,T)),c(this,T,void 0))},ie=function(){r(this,F)&&(clearInterval(r(this,F)),c(this,F,void 0))},ae=function(){const e=r(this,g).getQueryCache().build(r(this,g),this.options);if(e===r(this,a))return;const s=r(this,a);c(this,a,e),c(this,H,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ce=function(e){Re.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,v))}),r(this,g).getQueryCache().notify({query:r(this,a),type:"observerResultsUpdated"})})},me);function _e(t,e){return x(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ve(t,e){return _e(t,e)||t.state.data!==void 0&&ne(t,e,e.refetchOnMount)}function ne(t,e,s){if(x(e.enabled,t)!==!1){const i=typeof s=="function"?s(t):s;return i==="always"||i!==!1&&oe(t,e)}return!1}function ge(t,e,s,i){return(t!==e||x(i.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&oe(t,s)}function oe(t,e){return x(e.enabled,t)!==!1&&t.isStaleByTime($(e.staleTime,t))}function ke(t,e){return!J(t.getCurrentResult(),e)}var xe=O.createContext(!1),je=()=>O.useContext(xe);xe.Provider;function Le(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Be=O.createContext(Le()),Ae=()=>O.useContext(Be),He=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ve=t=>{O.useEffect(()=>{t.clearReset()},[t])},ze=({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:u})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(u&&t.data===void 0||Ie(s,[t.error,i])),Ne=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},We=(t,e)=>t.isLoading&&t.isFetching&&!e,$e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ye=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ke(t,e,s){var l,j,f,L,B;const i=Te(),u=je(),h=Ae(),o=i.defaultQueryOptions(t);(j=(l=i.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||j.call(l,o),o._optimisticResults=u?"isRestoring":"optimistic",Ne(o),He(o,h),Ve(h);const Q=!i.getQueryCache().get(o.queryHash),[p]=O.useState(()=>new e(i,o)),R=p.getOptimisticResult(o),k=!u&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(y=>{const z=k?p.subscribe(Re.batchCalls(y)):be;return p.updateResult(),z},[p,k]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),O.useEffect(()=>{p.setOptions(o)},[o,p]),$e(o,R))throw ye(o,p,h);if(ze({result:R,errorResetBoundary:h,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw R.error;if((L=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||L.call(f,o,R),o.experimental_prefetchInRender&&!X&&We(R,u)){const y=Q?ye(o,p,h):(B=i.getQueryCache().get(o.queryHash))==null?void 0:B.promise;y==null||y.catch(be).finally(()=>{p.updateResult()})}return o.notifyOnChangeProps?R:p.trackResult(R)}function Xe(t,e){return Ke(t,Pe)}const Ye=Me("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:t,variant:e,asChild:s=!1,...i}){const u=s?Ue:"span";return Fe.jsx(u,{"data-slot":"badge",className:De(Ye({variant:e}),t),...i})}export{Ze as B,Xe as u};
